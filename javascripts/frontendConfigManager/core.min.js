namespace.reg("uinv.FCM.configMgr");namespace.reg("uinv.FCM.configMgr.global");namespace.reg("uinv.FCM.configMgr.note");namespace.reg("uinv.FCM.configMgr.model.transform");namespace.reg("uinv.FCM.configMgr.model.array");namespace.reg("uinv.FCM.configMgr.model.selector");namespace.reg("uinv.FCM.configMgr.model.selector.whereTypeSetObj");namespace.reg("uinv.FCM.configMgr.model.stringDB");namespace.reg("uinv.FCM.configMgr.model.key");namespace.reg("uinv.FCM.configMgr.model.layer");namespace.reg("uinv.FCM.configMgr.model.layer.itemConfigTypeToHtml");namespace.reg("uinv.FCM.configMgr.model.layer.itemConfigInitData");namespace.reg("uinv.FCM.configMgr.model.layer.itemConfigSetData");namespace.reg("uinv.FCM.configMgr.model.panel");namespace.reg("uinv.FCM.configMgr.model.panel.itemConfigTypeToHtml");namespace.reg("uinv.FCM.configMgr.model.panel.itemConfigInitData");namespace.reg("uinv.FCM.configMgr.model.panel.itemConfigSetData");namespace.reg("uinv.FCM.configMgr.model.object");namespace.reg("uinv.FCM.configMgr.model.colorpicke");namespace.reg("uinv.FCM.configMgr.model.dialog");namespace.reg("uinv.FCM.configMgr.model.statistics");namespace.reg("uinv.FCM.configMgr.model.resources");namespace.reg("uinv.FCM.configMgr.model.viewpoint");namespace.reg("uinv.FCM.configMgr.model.backup");namespace.reg("uinv.FCM.configMgr.model.monitor");namespace.reg("uinv.FCM.configMgr.model.monitor.configSetData");namespace.reg("uinv.FCM.configMgr.model.monitor.configTypeToHtml");namespace.reg("uinv.FCM.configMgr.model.monitor.configTypeToData");namespace.reg("uinv.FCM.configMgr.model.monitor.configStyleTypeToData");namespace.reg("uinv.FCM.configMgr.model.download");namespace.reg("uinv.FCM.configMgr.model.images");namespace.reg("uinv.FCM.configMgr.form");namespace.reg("uinv.FCM.configMgr.form.createTypeHtml");namespace.reg("uinv.FCM.configMgr.form.type");namespace.reg("uinv.FCM.configMgr.form.setValue");namespace.reg("uinv.FCM.configMgr.data");namespace.reg("uinv.FCM.configMgr.other");namespace.reg("uinv.FCM.configMgr.api");namespace.reg("uinv.FCM.configMgr.translate");namespace.reg("uinv.FCM.configMgr.msg");uinv.FCM.configMgr.api.getMonitor=function(){var v=uinv.FCM.configMgr;var t=this;var l=v.model.object.clone(v.data.monitor.object);v.model.monitor.obj=v.model.stringDB.get(v.model.monitor.index);for(var q=0,e=l.length;q<e;q++){l[q].condition=v.other.conditionReplaceName(l[q].where);l[q].data=v.model.object.clone(v.model.monitor.nameFindPanel(l[q].panel));for(var c=0,d=l[q].form.length;c<d;c++){for(var s=0,r=l[q].form[c].styleConfig.length;s<r;s++){l[q].form[c].styleConfig[s].config=v.model.colorpicke.toRgb(l[q].form[c].styleConfig[s].config)}}for(var f in l[q].data.modify){for(var a in l[q].data.modify[f]){if(typeof l[q].form[l[q].data.modify[f][a].row]!="undefined"){l[q].data.showMapping[f][a]=l[q].form[l[q].data.modify[f][a].row][l[q].data.modify[f][a].attribute]}}}for(var b in l[q].config){if(typeof l[q].config[b]=="object"){l[q].data[b]=v.model.object.clone(l[q].config[b])}else{l[q].data[b]=l[q].config[b]}}delete l[q].data.des;delete l[q].data.caption;delete l[q].data.name;delete l[q].data.resPath;delete l[q].where;delete l[q].form;delete l[q].key;delete l[q].panel;delete l[q].config}return{monitorTime:v.data.monitor.alarm.monitorTime,monitorPanelConfig:l}};uinv.FCM.configMgr.api.getViewpoint=function(){var d=uinv.FCM.configMgr;var e=this;var c=d.model.object.clone(d.data.viewpoint);for(var b=0,a=c.length;b<a;b++){c[b].condition=d.other.conditionReplaceName(c[b].where);delete c[b].where}return c};uinv.FCM.configMgr.api.getStatistics=function(){var d=uinv.FCM.configMgr;var f=this;var c=d.model.object.clone(d.data.statistics);for(var b in c){for(var e=0,a=c[b].length;e<a;e++){c[b][e].condition=c[b][e].where;delete c[b][e].where;c[b][e].config=d.model.colorpicke.toRgb(c[b][e].color);c[b][e].number=Number(c[b][e].number);delete c[b][e].color}}return c};uinv.FCM.configMgr.api.getResources=function(){var c=uinv.FCM.configMgr;var d=this;var b=c.model.object.clone(c.data.resources);for(var a in b){b[a].local=b[a].localPath;b[a].url=b[a].serverPath.substr(1);delete b[a].localPath;delete b[a].serverPath}return b};uinv.FCM.configMgr.api.getLayer=function(){var e=uinv.FCM.configMgr;var g=this;var d=e.model.object.clone(e.data.layer);e.model.layer.obj=e.model.stringDB.get(e.model.layer.index);for(var c=0,b=d.length;c<b;c++){d[c].condition=e.other.conditionReplaceName(d[c].obj);d[c].tmp=[];for(var f=0,a=d[c].item.length;f<a;f++){if(typeof d[c].itemData=="undefined"){d[c].itemData=[]}d[c].tmp.push({itemName:d[c].item[f]==u.le.get("\u5206\u5272\u7ebf")?"separator":d[c].item[f],config:typeof d[c].itemData[d[c].item[f]]=="undefined"?{}:e.model.object.clone(d[c].itemData[d[c].item[f]])})}d[c].item=d[c].tmp;delete d[c].obj;delete d[c].tmp;delete d[c].order}return{objects:d,lib:e.model.object.clone(e.model.layer.obj)}};uinv.FCM.configMgr.api.getPanel=function(){var e=uinv.FCM.configMgr;var g=this;var d=e.model.object.clone(e.data.panel);e.model.panel.obj=e.model.stringDB.get(e.model.panel.index);for(var c=0,b=d.length;c<b;c++){d[c].condition=e.other.conditionReplaceName(d[c].obj);d[c].tmp=[];for(var f=0,a=d[c].item.length;f<a;f++){if(typeof d[c].itemData=="undefined"){d[c].itemData=[]}d[c].tmp.push({itemName:d[c].item[f]==u.le.get("\u5206\u5272\u7ebf")?"separator":d[c].item[f],config:typeof d[c].itemData[d[c].item[f]]=="undefined"?{}:e.model.object.clone(d[c].itemData[d[c].item[f]])})}d[c].item=d[c].tmp;delete d[c].obj;delete d[c].tmp;delete d[c].order}return{objects:d,lib:e.model.object.clone(e.model.panel.obj)}};uinv.FCM.configMgr.api.getForm=function(d){var f=uinv.FCM.configMgr,g=this,c=0,b=0;var e=f.model.object.clone(f.form.createFormData);for(c=0,b=e.length;c<b;c++){e[c].value=f.data[e[c].group][e[c].name];if(e[c].type=="color"){e[c].value=f.model.colorpicke.toRgb(e[c].value)}}if(d){var a=[];for(c=0,b=e.length;c<b;c++){if(e[c].group==d){a.push(e[c])}}e=a}return e};uinv.FCM.configMgr.api.getAlarm=function(){var d=uinv.FCM.configMgr;var e=this;var c=d.model.object.clone(d.data.monitor.alarm);if(typeof c.alarmLevel=="undefined"){c.alarmLevel=[]}for(var b=0,a=c.alarmLevel.length;b<a;b++){c.alarmLevel[b].config=d.model.colorpicke.toRgb(c.alarmLevel[b].color);delete c.alarmLevel[b].color}delete c.monitorTime;return c};uinv.FCM.configMgr.api.getDownload=function(){var a=uinv.FCM.configMgr;var b=this;return a.model.object.clone(a.data.download)};uinv.FCM.configMgr.data.system={};uinv.FCM.configMgr.data.layout={};uinv.FCM.configMgr.data.layer=[];uinv.FCM.configMgr.data.panel=[];uinv.FCM.configMgr.data.statistics={power:[],availableU:[],load:[]};uinv.FCM.configMgr.data.resources={};uinv.FCM.configMgr.data.viewpoint=[];uinv.FCM.configMgr.data.monitor={object:[],alarm:{alarmTime:0,alarmIconSize:1,monitorTime:1}};uinv.FCM.configMgr.data.download=[];uinv.FCM.configMgr.form.createFormData=[];uinv.FCM.configMgr.form.nameInit=[];uinv.FCM.configMgr.form.obj=null;uinv.FCM.configMgr.form.box=null;uinv.FCM.configMgr.form.keywords=["download","layer","monitor","panel","resources","statistics","viewpoint"];uinv.FCM.configMgr.form.tabFindItem=function(d){var e=this;var a=[];for(var c=0,b=e.createFormData.length;c<b;c++){if(e.createFormData[c].tab==d){a.push(e.createFormData[c])}}return a};uinv.FCM.configMgr.form.checkFormKeyword=function(){var d=uinv.FCM.configMgr;var f=this;for(var e=0,a=f.createFormData.length;e<a;e++){for(var c=0,b=f.keywords.length;c<b;c++){if(f.createFormData[e].group===f.keywords[c]){return true}}}return false};uinv.FCM.configMgr.form.createHtml=function(e){var d=uinv.FCM.configMgr;var f=this;e.data=f.tabFindItem(e.tab);var c="";for(var b=0,a=e.data.length;b<a;b++){if(typeof f.createTypeHtml[e.data[b].type]=="function"){c+=f.createTypeHtml[e.data[b].type](e.data[b])}}e.dom.html(c)};uinv.FCM.configMgr.form.initFormDataToData=function(){var d=uinv.FCM.configMgr;var e=this;var c=e.createFormData;if(e.checkFormKeyword()){d.note.alert(d.msg.S25);return false}for(var b=0,a=c.length;b<a;b++){if(typeof c[b].itemkey=="undefined"){c[b].itemkey=""}if(typeof d.data[c[b].group]=="undefined"){d.data[c[b].group]={}}if(typeof d.data[c[b].group][c[b].name]=="undefined"){d.data[c[b].group][c[b].name]=c[b].defaultValue}}};uinv.FCM.configMgr.form.load=function(b){var a=uinv.FCM.configMgr;var c=this;c.box=b.obj||$(".config-load");c.box.load(b.page+"?"+Date.parse(new Date()),function(e,d,f){if(d=="success"){c.init();$(".config-submit-btn").show()}else{$(this).load("./views/config/404.html")}uinv.FCM.configMgr.translate()})};uinv.FCM.configMgr.form.submit=function(){var a=uinv.FCM.configMgr;var b=this;b.nameInit=[];b.box.find("*[name][cate][path]").each(function(){if(typeof b.setValue[$(this).attr("cate")]=="function"){b.setValue[$(this).attr("cate")](this)}});uinv.server.manager.frame.saveFrameConfig(uinv.util.toJSON(a.data),function(c){a.note.dialog(c.data);if(c.success&&typeof b.submitCallback=="function"){b.submitCallback()}})};uinv.FCM.configMgr.form.saveData=function(){var a=uinv.FCM.configMgr;var b=this;uinv.server.manager.frame.saveFrameConfig(uinv.util.toJSON(a.data),function(c){if(c.success&&typeof b.submitCallback=="function"){b.submitCallback()}})};uinv.FCM.configMgr.form.isNameFirstEach=function(a){var b=uinv.FCM.configMgr;var c=this;if(b.model.array.inArray(a,c.nameInit)){return false}return true};uinv.FCM.configMgr.form.init=function(){var a=uinv.FCM.configMgr;var b=this;b.box.find("*[name][cate]").each(function(){if(typeof b.type[$(this).attr("cate")]=="function"){b.type[$(this).attr("cate")](this)}});a.translate()};uinv.FCM.configMgr.form.createTypeHtml.bool=function(d){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.form;var b=d.itemkey===""?c.data[d.group][d.name]:c.data[d.group][d.name][d.itemkey];var a="";a+='<div class="row '+d.level+'">';a+='<span class="comments"><s>'+d.caption+"</s></span>";a+='<span class="form">';if(b){a+='<label><input itemkey="'+d.itemkey+'" path="'+d.group+'" type="radio" cate="bool" name="'+d.name+'" checked value="1" /><s>\u662f</s></label>';a+='<label><input itemkey="'+d.itemkey+'" path="'+d.group+'" type="radio" cate="bool" name="'+d.name+'" value="0" /><s>\u5426</s></label>'}else{a+='<label><input itemkey="'+d.itemkey+'" path="'+d.group+'" type="radio" cate="bool" name="'+d.name+'" value="1" /><s>\u662f</s></label>';a+='<label><input itemkey="'+d.itemkey+'" path="'+d.group+'" type="radio" cate="bool" name="'+d.name+'" checked value="0" /><s>\u5426</s></label>'}a+="</span>";a+="</div>";return a};uinv.FCM.configMgr.form.createTypeHtml.color=function(d){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.form;var b=d.itemkey===""?c.data[d.group][d.name]:c.data[d.group][d.name][d.itemkey];var a="";a+='<div class="row '+d.level+'">';a+='<span class="comments"><s>'+d.caption+"</s></span>";a+='<span class="form">';a+='<input itemkey="'+d.itemkey+'" path="'+d.group+'" type="text" cate="color" name="'+d.name+'" value="'+b+'" />';a+="</span>";a+="</div>";return a};uinv.FCM.configMgr.form.createTypeHtml.image=function(d){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.form;var b=d.itemkey===""?c.data[d.group][d.name]:c.data[d.group][d.name][d.itemkey];var a="";a+='<div class="row '+d.dir+" "+d.level+'">';a+='<span class="comments"><s>'+d.caption+"</s></span>";a+='<span class="form">';a+='<img itemkey="'+d.itemkey+'" path="'+d.group+'" src="'+b+'" cate="image" name="'+d.name+'" />';a+="<button onclick=\"uinv.FCM.configMgr.model.images.show({dir:'"+d.dir+"',name:'"+d.name+"'});\"><s>\u66f4\u6362\u56fe\u7247</s></button>";a+="</span>";a+="</div>";return a};uinv.FCM.configMgr.form.createTypeHtml.number=function(d){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.form;var b=d.itemkey===""?c.data[d.group][d.name]:c.data[d.group][d.name][d.itemkey];var a="";a+='<div class="row '+d.level+'">';a+='<span class="comments"><s>'+d.caption+"</s></span>";a+='<span class="form">';a+='<input itemkey="'+d.itemkey+'" path="'+d.group+'" type="text" cate="number" name="'+d.name+'" value="'+b+'" />';a+="</span>";a+="</div>";return a};uinv.FCM.configMgr.form.createTypeHtml.string=function(d){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.form;var b=d.itemkey===""?c.data[d.group][d.name]:c.data[d.group][d.name][d.itemkey];var a="";a+='<div class="row '+d.level+'">';a+='<span class="comments"><s>'+d.caption+"</s></span>";a+='<span class="form">';a+='<input itemkey="'+d.itemkey+'" path="'+d.group+'" type="text" cate="string" name="'+d.name+'" value="'+b+'" />';a+="</span>";a+="</div>";return a};uinv.FCM.configMgr.form.createTypeHtml.array=function(d){var e=uinv.FCM.configMgr.form;var c="";c+='<div class="row '+d.level+'">';c+='<span class="comments"><s>'+d.caption+"</s></span>";c+='<span class="form">';for(var b=0,a=d.settings.length;b<a;b++){if(typeof e.createTypeHtml[d.settings[b].type]=="function"){d.settings[b].name=d.name;d.settings[b].group=d.group;d.settings[b].cate="arrayitem";d.settings[b].level="children";d.settings[b].defaultValue=d.defaultValue[b];d.settings[b].itemkey=b;c+=e.createTypeHtml[d.settings[b].type](d.settings[b])}}c+="</span>";c+="</div>";return c};uinv.FCM.configMgr.form.setValue.radio=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if(a.checked===true){if($(a).attr("itemkey")!==""){b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]=c.box.find("*[name="+$(a).attr("name")+"]:checked").attr("value")}else{b.data[$(a).attr("path")][$(a).attr("name")]=c.box.find("*[name="+$(a).attr("name")+"]:checked").attr("value")}}};uinv.FCM.configMgr.form.setValue.bool=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if(a.checked===true){if($(a).attr("itemkey")!==""){if(a.value=="1"){b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]=true}else{b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]=false}}else{if(a.value=="1"){b.data[$(a).attr("path")][$(a).attr("name")]=true}else{b.data[$(a).attr("path")][$(a).attr("name")]=false}}}};uinv.FCM.configMgr.form.setValue.text=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]=$(a).val()}else{b.data[$(a).attr("path")][$(a).attr("name")]=$(a).val()}};uinv.FCM.configMgr.form.setValue.string=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]=$(a).val()}else{b.data[$(a).attr("path")][$(a).attr("name")]=$(a).val()}};uinv.FCM.configMgr.form.setValue.number=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]=Number($(a).val())}else{b.data[$(a).attr("path")][$(a).attr("name")]=Number($(a).val())}};uinv.FCM.configMgr.form.setValue.image=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]=$(a).attr("src")}else{b.data[$(a).attr("path")][$(a).attr("name")]=$(a).attr("src")}};uinv.FCM.configMgr.form.setValue.color=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]=$(a).val()}else{b.data[$(a).attr("path")][$(a).attr("name")]=$(a).val()}};uinv.FCM.configMgr.form.setValue.layer=function(b){var d=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.form;var a=$(b).attr("name");var c=d.model.layer.keyFindObj(a);if(e.isNameFirstEach(a)){c.item=[];c.order=[];e.nameInit.push(a)}c.order.push($(b).attr("value"));if(b.checked===true){c.item.push($(b).attr("value"))}};uinv.FCM.configMgr.form.setValue.panel=function(c){var d=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.form;var b=$(c).attr("name");var a=d.model.panel.keyFindObj(b);if(e.isNameFirstEach(b)){a.item=[];a.order=[];e.nameInit.push(b)}a.order.push($(c).attr("value"));if(c.checked===true){a.item.push($(c).attr("value"))}};uinv.FCM.configMgr.form.setValue.statistics=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.form;var a=$(b).attr("name");if(d.isNameFirstEach(a)){c.data[$(b).attr("path")][a]=[];d.nameInit.push(a)}$(b).find(".item").each(function(){var e={};$(this).find("*[key]").each(function(){e[$(this).attr("key")]=$(this).val()});c.data[$(b).attr("path")][a].push(e)})};uinv.FCM.configMgr.form.setValue.viewpoint=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;b.model.viewpoint.keyFindObj($(a).attr("name")).data[$(a).attr("key")]=Number($(a).val())};uinv.FCM.configMgr.form.setValue.alarm=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;b.data[$(a).attr("path")].alarm[$(a).attr("name")]=Number($(a).val())};uinv.FCM.configMgr.form.setValue.alarmlevel=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;b.data[$(a).attr("path")].alarm[$(a).attr("name")]=[];$(a).find("*.row").each(function(){var d={};d.name=$(this).find("input[name=name]").val();d.color=$(this).find("input[name=color]").val();b.data[$(a).attr("path")].alarm[$(a).attr("name")].push(d)})};uinv.FCM.configMgr.form.type.radio=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){if(b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]==$(a).attr("value")){$(a).attr("checked",true)}}else{if(b.data[$(a).attr("path")][$(a).attr("name")]==$(a).attr("value")){$(a).attr("checked",true)}}};uinv.FCM.configMgr.form.type.bool=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){if(a.value=="1"&&b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]){$(a).attr("checked",true)}if(a.value=="0"&&!b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")]){$(a).attr("checked",true)}}else{if(a.value=="1"&&b.data[$(a).attr("path")][$(a).attr("name")]){$(a).attr("checked",true)}if(a.value=="0"&&!b.data[$(a).attr("path")][$(a).attr("name")]){$(a).attr("checked",true)}}};uinv.FCM.configMgr.form.type.text=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){$(a).val(b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")])}else{$(a).val(b.data[$(a).attr("path")][$(a).attr("name")])}};uinv.FCM.configMgr.form.type.string=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){$(a).val(b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")])}else{$(a).val(b.data[$(a).attr("path")][$(a).attr("name")])}};uinv.FCM.configMgr.form.type.number=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){$(a).val(b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")])}else{$(a).val(b.data[$(a).attr("path")][$(a).attr("name")])}};uinv.FCM.configMgr.form.type.image=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){$(a).attr("src",b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")])}else{$(a).attr("src",b.data[$(a).attr("path")][$(a).attr("name")])}};uinv.FCM.configMgr.form.type.color=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if($(a).attr("itemkey")!==""){$(a).val(b.data[$(a).attr("path")][$(a).attr("name")][$(a).attr("itemkey")])}else{$(a).val(b.data[$(a).attr("path")][$(a).attr("name")])}b.model.colorpicke.show(a)};uinv.FCM.configMgr.form.type.layer=function(a){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.form;var b=c.model.layer.keyFindObj($(a).attr("name"));if($(a).attr("value")==u.le.get("\u5206\u5272\u7ebf")){$(a).attr("disabled",true)}if(typeof b.item=="object"){if(c.model.array.inArray($(a).attr("value"),b.item)){$(a).attr("checked",true);c.model.layer.checkd(a)}}};uinv.FCM.configMgr.form.type.panel=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.form;var a=c.model.panel.keyFindObj($(b).attr("name"));if(typeof a.item=="object"){if(c.model.array.inArray($(b).attr("value"),a.item)){$(b).attr("checked",true);c.model.panel.checkd(b)}}};uinv.FCM.configMgr.form.type.statistics=function(c){var d=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.form;var b="";for(var a in d.data[$(c).attr("path")][$(c).attr("name")]){b+=d.model.statistics.mkhtmlTr(d.data[$(c).attr("path")][$(c).attr("name")][a])}$(c).append(b);e.box.find(d.model.statistics.classStr).find("input[key=color]").each(function(){d.model.colorpicke.show(this)})};uinv.FCM.configMgr.form.type.viewpoint=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;$(a).val(b.model.viewpoint.keyFindObj($(a).attr("name")).data[$(a).attr("key")])};uinv.FCM.configMgr.form.type.alarm=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;if(typeof b.data.monitor.alarm[$(a).attr("name")]!="undefined"){$(a).val(b.data[$(a).attr("path")].alarm[$(a).attr("name")])}};uinv.FCM.configMgr.form.type.alarmlevel=function(a){var b=uinv.FCM.configMgr;var c=uinv.FCM.configMgr.form;$(a).find("*.row").each(function(){var d=$(this).find("input[name=color]").get(0);b.model.colorpicke.show(d)})};uinv.FCM.configMgr.global.path="/frontendConfigManager";uinv.FCM.configMgr.global.projectPath="";uinv.FCM.configMgr.global.line1='<i class="config-line1"></i>';uinv.FCM.configMgr.global.onload=false;uinv.FCM.configMgr.init=function(){var d=this;var a=uinv.server.manager.frame.getFrameConfig();if(a.success&&a.data){var b=d.model.transform.str2obj(a.data);d.model.object.coverObj(b,uinv.FCM.configMgr.data)}uinv.FCM.configMgr.form.initFormDataToData();uinv.ui.manager.navBar.config["menu-config"]="./views/config/index.html";d.model.selector.obj=d.model.stringDB.get(d.model.selector.index);var c=window.document.location.pathname.split("/");c.pop();d.global.projectPath=c.join("/")};uinv.FCM.configMgr.model.array.inArray=function(d,a){for(var c=0,b=a.length;c<b;c++){if(d==a[c]){return true}}return false};uinv.FCM.configMgr.model.array.strInArrayIndex=function(d,a){for(var c=0,b=a.length;c<b;c++){if(d==a[c]){return c}}return -1};uinv.FCM.configMgr.model.array.isArray=function(a){return a instanceof Array};uinv.FCM.configMgr.model.backup.model={"\u89c6\u89d2":{model:"viewpoint",data:"viewpoint"},"\u76d1\u63a7":{model:"monitor",data:"monitor"},"\u56fe\u5c42":{model:"layer",data:"layer"},"\u9762\u677f":{model:"panel",data:"panel"},"\u8d44\u6e90":{model:"resources",data:"resources"},"\u7edf\u8ba1":{model:"statistics",data:"statistics"},"\u9009\u62e9":{model:"selector",data:"selector"},"\u7cfb\u7edf":{data:"system"},"\u5e03\u5c40":{data:"layout"},"\u4e0b\u8f7d":{data:"download"}};uinv.FCM.configMgr.model.backup.backModel=["\u89c6\u89d2","\u56fe\u5c42","\u8d44\u6e90","\u4e0b\u8f7d","\u76d1\u63a7","\u7edf\u8ba1","\u9009\u62e9","\u7cfb\u7edf","\u5e03\u5c40"];uinv.FCM.configMgr.model.backup.folders=[];uinv.FCM.configMgr.model.backup.files=[];uinv.FCM.configMgr.model.backup.text="";uinv.FCM.configMgr.model.backup.initData=function(){var a=uinv.FCM.configMgr;var b=this;b.folders=[];b.files=[];b.text=""};uinv.FCM.configMgr.model.backup.updateFileArr=function(){var d=uinv.FCM.configMgr,f=this,e=0,a=[];f.initData();f.folders.push(d.global.path);for(var c=0,b=f.backModel.length;c<b;c++){if(typeof f.model[f.backModel[c]].model!="undefined"&&typeof d.model[f.model[f.backModel[c]].model].backupFiles=="function"){a=d.model[f.model[f.backModel[c]].model].backupFiles();for(e=0,m=a.length;e<m;e++){f.files.push(a[e])}}if(typeof f.model[f.backModel[c]].model!="undefined"&&typeof d.model[f.model[f.backModel[c]].model].backupFolders=="function"){a=d.model[f.model[f.backModel[c]].model].backupFolders();for(e=0,m=a.length;e<m;e++){f.folders.push(a[e])}}}};uinv.FCM.configMgr.model.backup.updateText=function(){var e=uinv.FCM.configMgr;var f=this;var d={config:e.model.transform.str2obj(uinv.server.manager.frame.getFrameConfig().data),string:e.model.transform.str2obj(uinv.server.manager.frame.getString().data)};var c={config:{},string:{}};for(var b=0,a=f.backModel.length;b<a;b++){if(typeof f.model[f.backModel[b]].data!="undefined"&&typeof d.config[f.model[f.backModel[b]].data]!="undefined"){c.config[f.model[f.backModel[b]].data]=d.config[f.model[f.backModel[b]].data]}if(typeof f.model[f.backModel[b]].data!="undefined"&&typeof d.string[f.model[f.backModel[b]].data]!="undefined"){c.string[f.model[f.backModel[b]].data]=d.string[f.model[f.backModel[b]].data]}}f.text=e.model.transform.obj2str(c)};uinv.FCM.configMgr.model.backup.configCompression=function(a){var b=uinv.FCM.configMgr;var c=this;$(a).css("left","8888888px").parent().find("span").html(b.msg.S2);c.updateFileArr();c.updateText();uinv.server.manager.frame.placeZip(c.text,c.folders,c.files,function(d){if(d.success){document.location=b.global.projectPath+d.data;$(a).css("left","0").parent().find("span").html(b.msg.S2)}else{b.note.alert(d.data)}})};uinv.FCM.configMgr.model.backup.configUpload=function(d){var f=uinv.FCM.configMgr,h=this,e=null,c=d.value.split("\\"),b=false,a=[],g=c.pop();a=g.split(".");if(a[a.length-1]!="zip"){f.note.alert(f.msg.S3);return false}b=f.note.confirm(f.msg.F1(g));if(!b){return false}uinv.server.manager.frame.upAndUnZip(d,g,function(i){if(i.success){try{e=f.model.transform.str2obj(i.data)}catch(j){f.note.alert(f.msg.S4);return false}h.setData(e)}else{f.note.alert(i.data)}})};uinv.FCM.configMgr.model.backup.setData=function(d){var c=uinv.FCM.configMgr;var e=this;var a=0;var b={config:c.model.transform.str2obj(uinv.server.manager.frame.getFrameConfig().data),string:c.model.transform.str2obj(uinv.server.manager.frame.getString().data)};if(typeof d.config=="object"){for(a in d.config){b.config[a]=c.model.object.clone(d.config[a])}}if(typeof d.string=="object"){for(a in d.string){b.string[a]=c.model.object.clone(d.string[a])}}uinv.server.manager.frame.saveFrameConfig(c.model.transform.obj2str(b.config));uinv.server.manager.frame.saveString(c.model.transform.obj2str(b.string),false);e.updateConfig(b)};uinv.FCM.configMgr.model.backup.updateConfig=function(b){var a=uinv.FCM.configMgr;var c=this;a.data=a.model.object.clone(b.config);a.form.init()};uinv.FCM.configMgr.model.colorpicke.palette=[["rgb(0, 0, 0)","rgb(67, 67, 67)","rgb(102, 102, 102)","rgb(204, 204, 204)","rgb(217, 217, 217)","rgb(255, 255, 255)"],["rgb(152, 0, 0)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(74, 134, 232)","rgb(0, 0, 255)","rgb(153, 0, 255)","rgb(255, 0, 255)"],["rgb(230, 184, 175)","rgb(244, 204, 204)","rgb(252, 229, 205)","rgb(255, 242, 204)","rgb(217, 234, 211)","rgb(208, 224, 227)","rgb(201, 218, 248)","rgb(207, 226, 243)","rgb(217, 210, 233)","rgb(234, 209, 220)","rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)","rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)","rgb(180, 167, 214)","rgb(213, 166, 189)","rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)","rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)","rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)","rgb(7, 55, 99)","rgb(32, 18, 77)","rgb(76, 17, 48)"]];uinv.FCM.configMgr.model.colorpicke.toHex=function(b){var e=uinv.FCM.configMgr;var f=this;var a="#";for(var c=0;c<b.length;c++){var d=Number(b[c]).toString(16);if(d==="0"){d+=d}a+=d.substr(2,2)}if(a.length!==7){}return a};uinv.FCM.configMgr.model.colorpicke.toRgb=function(f){var e=uinv.FCM.configMgr,h=this,b=0,a=[],g="",d=f.toLowerCase(),c=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(d&&c.test(d)){if(d.length===4){g="#";for(b=1;b<4;b+=1){g+=d.slice(b,b+1).concat(d.slice(b,b+1))}d=g}a=[];for(b=1;b<7;b+=2){a.push(parseInt("0x"+d.slice(b,b+2),16))}return a}else{return d}};uinv.FCM.configMgr.model.colorpicke.show=function(c){var d=uinv.FCM.configMgr;var e=this;var a=true;var b=c.value.length>=3?c.value:d.data[$(c).attr("path")][$(c).attr("name")];$(c).spectrum({color:b,showInitial:a,showAlpha:a,showPalette:a,showSelectionPalette:a,clickoutFiresChange:a,chooseText:u.le.get("\u786e\u5b9a"),cancelText:u.le.get("\u53d6\u6d88"),palette:e.palette,change:function(f){$(this).val(f.toHexString())}}).val(c.value)};uinv.FCM.configMgr.model.dialog.id="";uinv.FCM.configMgr.model.dialog.show=function(c){var b=uinv.FCM.configMgr;var e=this;e.id=b.model.key.create(10);var a="";a+='<div class="config-dialog-bg config-dialog-bg-'+e.id+'"></div>';a+='<div class="config-dialog config-dialog-'+e.id+'" style="display:none;">'+c+"</div>";$("body").css("position","relative").append(a);var d=$(".config-dialog-"+e.id);d.css({"margin-left":"-"+parseInt(d.outerWidth()/2,10)+"px","margin-top":"-"+parseInt(d.outerHeight()/2,10)+"px"}).show();b.translate()};uinv.FCM.configMgr.model.dialog.close=function(fun){var _obj=uinv.FCM.configMgr;var _this=this;$(".config-dialog-"+_this.id).remove();$(".config-dialog-bg-"+_this.id).remove();$(".config-dialog").remove();$(".config-dialog-bg").remove();_this.id="";if(typeof fun=="function"){fun.apply(_this)}else{if(fun){eval(fun+"()")}}};uinv.FCM.configMgr.model.dialog.getObj=function(){var a=uinv.FCM.configMgr;var b=this;return $(".config-dialog-"+b.id)};uinv.FCM.configMgr.model.download.pathFindObj=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.download.length;b<a;b++){if(d.data.download[b].url==c){return d.data.download[b]}}return null};uinv.FCM.configMgr.model.download.pathFindIndex=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.download.length;b<a;b++){if(d.data.download[b].url==c){return b}}return -1};uinv.FCM.configMgr.model.download.set=function(d){var c=uinv.FCM.configMgr;var e=this;var a=e.pathFindIndex(d.url);if(a>=0){var b=e.pathFindObj(d.url);d.version=b.version+1;c.data.download.splice(a,1,d)}else{d.version=1;c.data.download.push(d)}};uinv.FCM.configMgr.model.download.del=function(b){var c=uinv.FCM.configMgr;var d=this;var a=d.pathFindIndex(b);c.data.download.splice(a,1)};uinv.FCM.configMgr.model.images.path="/Images";uinv.FCM.configMgr.model.images.dir="";uinv.FCM.configMgr.model.images.imgHeight=50;uinv.FCM.configMgr.model.images.imgWidth=100;uinv.FCM.configMgr.model.images.limit=[".svn"];uinv.FCM.configMgr.model.images.imUpload=function(e,c){var g=uinv.FCM.configMgr;var f=this;f.dir=c||f.dir;var d=e.value.split("\\");var a=encodeURIComponent(d[d.length-1]).replaceAll("%","_");var h=g.global.path+f.path+f.dir;var i=uinv.server.manager.frame.isFileExist(h+"/"+a);var b=true;if(i.data){b=g.note.confirm(g.msg.F2(a))}if(b){uinv.server.manager.frame.upImage(e,h,a,function(j){f.uploadImagesCallback(j)})}};uinv.FCM.configMgr.model.images.delImages=function(b){var c=uinv.FCM.configMgr;var d=this;var a=c.note.confirm(c.msg.S5);if(a){uinv.server.manager.frame.delImage(b,function(e){d.deleteImagesCallback(e)})}};uinv.FCM.configMgr.model.images.close=function(){var a=uinv.FCM.configMgr;var b=this;a.model.dialog.close()};uinv.FCM.configMgr.model.images.uploadImagesCallback=function(a){var b=uinv.FCM.configMgr;var c=this;if(a.success){c.updateList();b.model.dialog.getObj().find(".img .right .views").html("")}else{b.note.alert(a.data)}};uinv.FCM.configMgr.model.images.deleteImagesCallback=function(a){var d=uinv.FCM.configMgr;var e=this;if(a.success){e.updateList();d.model.dialog.getObj().find(".img .right .views").html("");var b=d.model.dialog.getObj().find(".img .left .imglist li.ok img");var c=d.form.box.find("*[name="+e.name+"]");if(c.attr("src")!=b.attr("src")){c.attr("src","")}}};uinv.FCM.configMgr.model.images.selectImg=function(a){var b=uinv.FCM.configMgr;var c=this;b.model.dialog.getObj().find(".img .imglist li.ok").each(function(){$(this).removeClass("ok")});$("*[name="+c.name+"]").attr("src",$(a).find("img").attr("src"));$(a).addClass("ok")};uinv.FCM.configMgr.model.images.getData=function(){var c=uinv.FCM.configMgr;var d=this;var b=c.global.path+d.path+d.dir;var a=uinv.server.manager.frame.getImages(b);if(a.success){return a.data}else{return[]}};uinv.FCM.configMgr.model.images.viewsImg=function(b){var c=uinv.FCM.configMgr;var e=this;var a='<img src="'+$(b).attr("src")+'" />';c.model.dialog.getObj().find(".img .right .views").html(a);var d=c.model.dialog.getObj().find(".img .right .views img");d.css({"margin-left":"-"+parseInt(d.outerWidth()/2,10)+"px","margin-top":"-"+parseInt(d.outerHeight()/2,10)+"px"})};uinv.FCM.configMgr.model.images.decode=function(b){var a=uinv.FCM.configMgr;var c=this;return decodeURIComponent(b.replaceAll("_","%"))};uinv.FCM.configMgr.model.images.updateList=function(){var j=uinv.FCM.configMgr,h=this,e=h.getData(),l="",a="",f="",g=[],b=[],o=j.global.path+h.path+h.dir+"/";for(var d=0,c=e.length;d<c;d++){if(j.model.array.inArray(e[d],h.limit)){continue}var n=j.form.box.find("*[name="+h.name+"]").attr("src");if(n){b=n.split("/");a=b[b.length-1]}else{a=""}if(a==e[d]){l="ok"}else{l=""}f="";f+='<li class="'+l+'" onmouseover="uinv.FCM.configMgr.model.images.viewsImg( $(this).find(\'img\').get(0) );" onclick="uinv.FCM.configMgr.model.images.selectImg(this);" >';f+='<img onerror="$(this).parent().remove();" src="'+j.global.projectPath+o+e[d]+'" style="max-width:'+h.imgWidth+"px;max-height:"+h.imgHeight+'px;" title="'+h.decode(e[d])+'" />';f+="<a onclick=\"uinv.FCM.configMgr.model.images.delImages('"+o+e[d]+'\');" class="deletebtn" href="javascript:void(0);">DEL</a>';f+="</li>";g.push(f)}j.model.dialog.getObj().find(".img .left .imglist").html(g.join(""))};uinv.FCM.configMgr.model.images.out=function(){var b=uinv.FCM.configMgr;var c=this;var a=b.form.box.find("*[name="+c.name+"]").get(0);c.viewsImg(a)};uinv.FCM.configMgr.model.images.show=function(d){var c=uinv.FCM.configMgr;var e=this;e.dir=d.dir||"global";e.name=d.name||"global";if(e.dir.substr(0,1)!="/"){e.dir="/"+e.dir}var a="";a+='<div class="img">';a+='<div class="left">';a+='<div class="header">';a+='<div class="action">';a+='<span class="uploadbtn">';a+='<a href="javascript:void(0);"><s>\u4e0a\u4f20\u56fe\u7247</s>';a+='<input onchange="uinv.FCM.configMgr.model.images.imUpload(this);" type="file"  />';a+="</a>";a+="</span>";a+="</div>";a+="</div>";a+='<div class="imglist" onmouseout="uinv.FCM.configMgr.model.images.out();">Loading...</div>';a+="</div>";a+='<div class="right">';a+='<div class="views"></div>';a+="</div>";a+='<div class="close">';a+='<button title="\u70b9\u51fb\u5173\u95ed\u7a97\u53e3" onclick="uinv.FCM.configMgr.model.images.close();"><s>Close</s></button>';a+="</div>";a+="</div>";c.model.dialog.show(a);e.updateList();var b=c.model.dialog.getObj().find(".img .left .imglist li.ok img").get(0);uinv.FCM.configMgr.model.images.viewsImg(b)};uinv.FCM.configMgr.model.key.str=["a","b","c","d","e","f","g","h","i","j","k","l","m","o","p","q","r","s","t","x","u","v","y","z","w","n","0","1","2","3","4","5","6","7","8","9"];uinv.FCM.configMgr.model.key.randint=function(d,a){var b=a-d+1;return Math.floor(Math.random()*b+d)};uinv.FCM.configMgr.model.key.randStr=function(){var c=uinv.FCM.configMgr;var d=this;var a=d.str.length-1;var b=d.randint(0,a);return d.str[b]};uinv.FCM.configMgr.model.key.create=function(a){var e=uinv.FCM.configMgr;var f=this;var b=a||10;var d="";for(var c=0;c<b;c++){d+=f.randStr()}return d};uinv.FCM.configMgr.model.layer.globalLayerManagementBoxClass="layer-global";uinv.FCM.configMgr.model.layer.index="layer";uinv.FCM.configMgr.model.layer.uploadLayerSelector="";uinv.FCM.configMgr.model.layer.obj=null;uinv.FCM.configMgr.model.layer.upMoveBtnClass="upmove";uinv.FCM.configMgr.model.layer.classStr="";uinv.FCM.configMgr.model.layer.keyFindObj=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.layer.length;b<a;b++){if(c==d.data.layer[b].key){return d.data.layer[b]}}return{}};uinv.FCM.configMgr.model.layer.keyDelObj=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.layer.length;b<a;b++){if(c==d.data.layer[b].key){d.data.layer.splice(b,1);return true}}return false};uinv.FCM.configMgr.model.layer.createObject=function(){var a=uinv.FCM.configMgr;var b=this;a.model.selector.show(function(f){var c=b.checkObjectExist(f.where);if(c){a.note.alert(a.msg.S6);return false}a.model.selector.cancelAddNodeWhere();var e=b.addObject(f);var d=b.mkhtml(e);$(b.classStr).append(d)})};uinv.FCM.configMgr.model.layer.insertDividingLine=function(d,b){var f=uinv.FCM.configMgr;var g=this;if(!b){f.note.dialog(f.msg.S7);return false}var a=g.mkHtmlList({key:b},{name:u.le.get("\u5206\u5272\u7ebf")});var c=$(d).parents(".list").find("ul");c.append(a);var e=c.find("li:last").find("*[name][cate][value]").get(0);e.checked=true;g.checkd(e);e.disabled=true};uinv.FCM.configMgr.model.layer.deleteObj=function(a){var b=uinv.FCM.configMgr;var c=this;c.keyDelObj(a);b.form.box.find(".obj-"+a).remove()};uinv.FCM.configMgr.model.layer.deleteObjLayer=function(c){var d=uinv.FCM.configMgr;var e=this;var b=$(c).parents("li").find("*[cate][name][value]").attr("value");if(b==u.le.get("\u5206\u5272\u7ebf")){$(c).parents("li").remove()}else{com=d.note.confirm(d.msg.S8);if(!com){return false}for(var a in d.data.layer){e.keyDeleteObjLayerLi(d.data.layer[a].key,b);e.keyDeleteObjLayer(d.data.layer[a],b)}}};uinv.FCM.configMgr.model.layer.keyDeleteObjLayer=function(c,b){var d=uinv.FCM.configMgr;var e=this;var a=0;if(d.model.array.inArray(b,c.order)){a=d.model.array.strInArrayIndex(b,c.order);c.order.splice(a,1)}if(d.model.array.inArray(b,c.item)){a=d.model.array.strInArrayIndex(b,c.item);c.item.splice(a,1)}};uinv.FCM.configMgr.model.layer.keyDeleteObjLayerLi=function(a,c){var b=uinv.FCM.configMgr;var d=this;b.form.box.find(d.classStr).find(".obj-"+a).find("li").each(function(){if($(this).find("*[cate][name][value]").attr("value")==c){$(this).remove()}})};uinv.FCM.configMgr.model.layer.modifyObjectName=function(b,d){var e=uinv.FCM.configMgr;var f=this;var c=$(d).html();var a=$(d).parent();a.html('<input type="text" value="'+c+'" />');a.find("input").focus().blur(function(){f.keyFindObj(b).name=$(this).val();$(this).parent().html("<span onclick=\"uinv.FCM.configMgr.model.layer.modifyObjectName('"+b+"',this);\">"+$(this).val()+"</span>")}).keydown(function(g){var h=g||windown.event;if(h.keyCode==13){f.keyFindObj(b).name=$(this).val();$(this).parent().html("<span onclick=\"uinv.FCM.configMgr.model.layer.modifyObjectName('"+b+"',this);\">"+$(this).val()+"</span>")}})};uinv.FCM.configMgr.model.layer.mkhtml=function(d){var e=uinv.FCM.configMgr;var f=this;var c="";c+='<div class="list obj-'+d.key+'">';c+='<div class="header" style="position:relative;">';c+="<h3><span onclick=\"uinv.FCM.configMgr.model.layer.modifyObjectName('"+d.key+"',this);\">"+d.name+"</span></h3>";c+='<span class="action" style="position:absolute;right:10px;">';c+="<a onclick=\"uinv.FCM.configMgr.model.layer.insertDividingLine(this,'"+d.key+'\');" href="javascript:void(0);"><s>\u5206\u5272\u7ebf</s></a>';c+=" | ";c+="<a onclick=\"uinv.FCM.configMgr.model.layer.deleteObj('"+d.key+'\');" href="javascript:void(0);"><s>\u5220\u9664</s></a>';c+="</span>";c+="</div>";c+="<ul>";for(var b=0,a=d.order.length;b<a;b++){if(d.order[b] in f.obj){c+=f.mkHtmlList(d,f.obj[d.order[b]])}else{c+=f.mkHtmlList(d,{name:d.order[b]})}}c+="</ul>";c+="</div>";return c};uinv.FCM.configMgr.model.layer.mkHtmlList=function(d,c){var e=uinv.FCM.configMgr;var g=this;var b=typeof c.__key=="string"?c.__key:c.name;var f=c.name==u.le.get("\u5206\u5272\u7ebf")?"\u64a4\u9500":"\u5220\u9664";var a="";a+="<li>";a+='<span class="layer_name">'+c.name+"</span>";a+='<span class="action layer_up">';a+='<a onclick="uinv.FCM.configMgr.model.layer.upMove(this);" class="'+g.upMoveBtnClass+'" href="javascript:void(0);" style="display:none;"><s>\u4e0a\u79fb</s></a>';a+="</span>";if(typeof c.itemConfig=="object"){a+='<span class="layer_edit">';a+="<a onclick=\"uinv.FCM.configMgr.model.layer.itemConfig('"+b+"','"+d.key+'\');" href="javascript:void(0);"><s>\u7f16\u8f91</s></a>';a+="</span>"}else{a+='<span class="layer_edit">';a+="&nbsp;";a+="</span>"}a+='<span class="layer_del">';a+='<a onclick="uinv.FCM.configMgr.model.layer.deleteObjLayer(this);" href="javascript:void(0);"><s>'+f+"</s></a>";a+="</span>";a+='<span class="layer_checkbox">';a+='<input onclick="uinv.FCM.configMgr.model.layer.checkd(this);"';a+=' name="'+d.key+'" value="'+b+'"';a+=' cate="layer" path="layer" type="checkbox" />';a+="</span>";a+="</li>";return a};uinv.FCM.configMgr.model.layer.itemConfig=function(e,d){var f=uinv.FCM.configMgr;var g=this;if(typeof g.obj[e].itemConfig=="undefined"){g.note.alert(f.msg.S9)}_layer=g.keyFindObj(d);_layer.itemData=typeof _layer.itemData=="undefined"?{}:_layer.itemData;_layer.itemData[e]=typeof _layer.itemData[e]=="undefined"?{}:_layer.itemData[e];var c="";c+='<div class="itemConfig" style="padding:10px;">';for(var b=0,a=g.obj[e].itemConfig.length;b<a;b++){if(typeof g.itemConfigTypeToHtml[g.obj[e].itemConfig[b].type]=="function"){c+=g.itemConfigTypeToHtml[g.obj[e].itemConfig[b].type](g.obj[e].itemConfig[b],e,d)}}c+='<p class="action">';c+='<input class="btn_cancel" onclick="uinv.FCM.configMgr.model.dialog.close();" />';c+='<input class="btn_save" onclick="uinv.FCM.configMgr.model.layer.itemConfigSubmit();" />';c+="</p>";c+="</div>";f.model.dialog.show(c);g.itemConfigFormInit(d)};uinv.FCM.configMgr.model.layer.itemConfigFormInit=function(){var a=uinv.FCM.configMgr;var b=this;a.model.dialog.getObj().find(".itemConfig").find("*[name][cate][path]").each(function(){if(typeof b.itemConfigInitData[$(this).attr("cate")]=="function"){b.itemConfigInitData[$(this).attr("cate")](this)}})};uinv.FCM.configMgr.model.layer.itemConfigSubmit=function(){var a=uinv.FCM.configMgr;var b=this;a.model.dialog.getObj().find(".itemConfig").find("*[name][cate][path]").each(function(){if(typeof b.itemConfigSetData[$(this).attr("cate")]=="function"){b.itemConfigSetData[$(this).attr("cate")](this)}});a.model.dialog.close()};uinv.FCM.configMgr.model.layer.addLayerOneToObj=function(b,a){var c=uinv.FCM.configMgr;var d=this;c.form.box.find(".obj-"+b).find("ul").append(a)};uinv.FCM.configMgr.model.layer.removeObjLayerIsValue=function(a,b){var c=uinv.FCM.configMgr;var d=this;c.form.box.find(".obj-"+a).find('*[name="'+a+'"][value="'+b+'"]').parents("li").remove()};uinv.FCM.configMgr.model.layer.order=function(c){var d=uinv.FCM.configMgr;var e=this;var b=0;var a=0;d.form.box.find("*[name="+$(c).attr("name")+"]").each(function(f){if(this.checked===true&&this!=c){b++}else{if(this==c){a=f}}});if(a!=b){if(c.checked===true){d.form.box.find("*[name="+$(c).attr("name")+"]:eq("+b+")").parents("li").before($(c).parents("li"))}else{d.form.box.find("*[name="+$(c).attr("name")+"]:eq("+b+")").parents("li").after($(c).parents("li"))}}};uinv.FCM.configMgr.model.layer.showUpMoveBtn=function(a){var b=uinv.FCM.configMgr;var c=this;$(a).parents("li").find("."+c.upMoveBtnClass).show()};uinv.FCM.configMgr.model.layer.hideUpMoveBtn=function(a){var b=uinv.FCM.configMgr;var c=this;$(a).parents("li").find("."+c.upMoveBtnClass).hide()};uinv.FCM.configMgr.model.layer.checkd=function(a){var b=uinv.FCM.configMgr;var c=this;c.order(a);if(a.checked===true){$(a).parents("li").addClass("checked");c.showUpMoveBtn(a)}else{$(a).parents("li").removeClass("checked");c.hideUpMoveBtn(a)}};uinv.FCM.configMgr.model.layer.checkedLayerOrder=function(a){var j=uinv.FCM.configMgr;var g=this;var b=g.keyFindObj(a);var h=j.form.box.find("*[name="+a+"]:checked");if(b.item.length==h.length){for(var e=0,c=b.item.length;e<c;e++){var d=j.form.box.find("*[name="+a+'][value="'+b.item[e]+'"]');var f=d.parents("li").index();if(e!=f){j.form.box.find("*[name="+a+"]:eq("+e+")").parents("li").before(d.parents("li"))}}}};uinv.FCM.configMgr.model.layer.upMove=function(d){var e=uinv.FCM.configMgr;var f=this;var c=$(d).parents("li").find("input[type=checkbox][name]");if(c.get(0).checked===false){return}var b=$(d).parents("li").index();if(b===0){return}b--;var a=c.attr("name");e.form.box.find("*[name="+a+"]:eq("+b+")").parents("li").before($(d).parents("li"))};uinv.FCM.configMgr.model.layer.checkHasKey=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.layer.length;b<a;b++){if(d.data.layer[b].key==c){return true}}return false};uinv.FCM.configMgr.model.layer.addObject=function(e){var f=uinv.FCM.configMgr,g=this,d="",c=null,a=false;do{d=f.model.key.create(32);a=g.checkHasKey(d)}while(a);var b={key:d,name:e.name,obj:e.where,itemConfig:{},order:[],item:[]};for(c in g.obj){b.order.push(c)}f.data.layer.push(b);return b};uinv.FCM.configMgr.model.layer.judgeObjectIsEq=function(c,b){var d=uinv.FCM.configMgr;var e=this;var a=false;if(typeof c.classid!="undefined"&&typeof b.classid!="undefined"&&c.classid==b.classid){a=true}if(typeof c.name!="undefined"&&typeof b.name!="undefined"&&c.name==b.name){a=true}if(typeof c.attribute!="undefined"&&typeof b.attribute!="undefined"&&c.attribute[0].key==b.attribute[0].key&&c.attribute[0].value==b.attribute[0].value){a=true}return a};uinv.FCM.configMgr.model.layer.checkObjectExist=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.layer.length;b<a;b++){if(e.judgeObjectIsEq(c,d.data.layer[b].obj)){return true}}return false};uinv.FCM.configMgr.model.layer.add=function(b,a){var c=uinv.FCM.configMgr;var d=this;if(typeof d.uploadLayerSelector=="undefined"){d.addLayerToGlobalLib(b,d.addLayerToGlobalLibCallback)}else{d.addLayerToObjLib(b,d.addLayerToObjLibCallback)}};uinv.FCM.configMgr.model.layer.addLayerToGlobalLib=function(d,a){var e=uinv.FCM.configMgr;var f=this;var c=typeof d.__key=="string"?d.__key:d.name;f.obj[c]={};for(var b in d){f.obj[c][b]=d[b]}if(typeof a=="function"){a.apply(f,[d])}};uinv.FCM.configMgr.model.layer.addLayerToGlobalLibCallback=function(e){var f=uinv.FCM.configMgr;var g=this;g.obj[e.name]=f.model.object.clone(e);for(var d=0,a=f.data.layer.length;d<a;d++){var c=f.data.layer[d].key;var b=g.mkHtmlList({key:c},e);g.removeObjLayerIsValue(c,e.name);g.addLayerOneToObj(c,b)}};uinv.FCM.configMgr.model.layer.setDBCallback=function(){var a=uinv.FCM.configMgr;var b=this};uinv.FCM.configMgr.model.layer.addLayerToObjLib=function(d,a){var f=uinv.FCM.configMgr;var g=this;var c=d.name;if(typeof d.__key=="string"){c=d.__key}var e=g.keyFindObj(g.uploadLayerSelector);e.lib[c]={};e.order.push(c);for(var b in d){e.lib[c][b]=d[b]}if(typeof a=="function"){a(e,d)}};uinv.FCM.configMgr.model.layer.addLayerToObjLibCallback=function(e,c){var f=uinv.FCM.configMgr;var g=this;var d=true;var b=typeof c.__key=="string"?c.__key:c.name;var a=g.mkHtmlList(e,c);g.removeObjLayerIsValue(e.key,b);g.addLayerOneToObj(e.key,a)};uinv.FCM.configMgr.model.layer.getLayerList=function(){var a=uinv.FCM.configMgr;var b=this;return a.model.stringDB.get(b.index)};uinv.FCM.configMgr.model.layer.upload=function(d,a){var f=uinv.FCM.configMgr;var g=this;if(a){var e=g.keyFindObj(a);if(typeof e.lib=="undefined"){f.note.alert(f.msg.s10);return}}g.uploadLayerSelector=a;var c=$(d).val().split("\\");var b=c[c.length-1];uinv.server.manager.frame.upAndUnZip(d,b,function(h){g.uploadCallback(h)})};uinv.FCM.configMgr.model.layer.uploadCallback=function(a){var f=uinv.FCM.configMgr;var g=this;if(a.success){var e=f.model.transform.str2obj(a.data);var c=g.verificationLayerData(e);if(c){if(f.model.array.isArray(e)){for(var d=0,b=e.length;d<b;d++){g.add(e[d],g.addCallback)}}else{g.add(e,g.addCallback)}}f.form.submit()}else{f.note.alert(a.data)}};uinv.FCM.configMgr.model.layer.verificationLayerData=function(c){var d=uinv.FCM.configMgr;var e=this;if(d.model.array.isArray(c)){for(var b=0,a=c.length;b<a;b++){if(!d.model.object.isObject(c[b])||typeof c[b].name=="undefined"){d.note.dialog(d.msg.S11);return false}}return true}else{if(d.model.object.isObject(c)){if(typeof c.name!="undefined"){return true}else{d.note.dialog(d.msg.S11);return false}}else{d.note.dialog(d.msg.S11);return false}}};uinv.FCM.configMgr.model.layer.globalLayerListHtml=function(b){var c=uinv.FCM.configMgr;var d=this;var a="";a+='<li style="margin:10px; position:relative;" key="'+b.name+'">';a+=b.name;a+='<span class="action" style="position:absolute;right:0; top:0;">';a+="<a onclick=\"uinv.FCM.configMgr.model.layer.deleteGlobalLayer(this, '"+b.name+'\');" href="javascript:void(0);"><s>\u5220\u9664</s></a>';a+="</span>";a+="</li>";return a};uinv.FCM.configMgr.model.layer.globalLayerManager=function(){var c=uinv.FCM.configMgr;var d=this;var b="";b+='<div style="width:500px;" class="'+d.globalLayerManagementBoxClass+'">';b+="<div>";b+='<s>\u4e0a\u4f20\u65b0\u56fe\u5c42</s><input type="file" onchange="uinv.FCM.configMgr.model.layer.upload(this);" /><br />';b+='<input type="text" /><button><s>\u6dfb\u52a0\u5206\u7c7b</s></button>';b+="</div>";b+="<br />";b+='<ul style="width:100%;">';for(var a in d.obj){b+=d.globalLayerListHtml(d.obj[a])}b+="</ul>";b+='<div class="action" style="width:100%;text-align:center;">';b+='<input class="btn_save" onclick="uinv.FCM.configMgr.model.dialog.close(uinv.FCM.configMgr.model.layer.globalLayerManagerCallBack);" />';b+="</div>";b+="</div>";c.model.dialog.show(b)};uinv.FCM.configMgr.model.layer.globalLayerManagerCallBack=function(){var a=uinv.FCM.configMgr;var b=this;a.model.stringDB.set(b.index,b.obj)};uinv.FCM.configMgr.model.layer.deleteGlobalLayer=function(b,a){var c=uinv.FCM.configMgr;var d=this;if(typeof d.obj[a]!="undefined"){delete d.obj[a]}$(b).parents("li").remove()};uinv.FCM.configMgr.model.layer.init=function(d){var e=uinv.FCM.configMgr;var f=this;e.form.submitCallback=function(){e.model.stringDB.set(f.index,f.obj,f.setDBCallback)};f.classStr=d||f.classStr;f.obj=f.getLayerList();var c="";for(var b=0,a=e.data.layer.length;b<a;b++){c+=f.mkhtml(e.data.layer[b])}e.form.box.find(f.classStr).html(c)};uinv.FCM.configMgr.model.layer.itemConfigInitData.string=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));if(typeof c.itemData[$(a).attr("path")][$(a).attr("name")]=="string"){$(a).val(c.itemData[$(a).attr("path")][$(a).attr("name")])}};uinv.FCM.configMgr.model.layer.itemConfigInitData.number=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));if(typeof c.itemData[$(a).attr("path")][$(a).attr("name")]=="number"){$(a).val(c.itemData[$(a).attr("path")][$(a).attr("name")])}};uinv.FCM.configMgr.model.layer.itemConfigInitData.bool=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));if(typeof c.itemData[$(a).attr("path")][$(a).attr("name")]=="boolean"){if(a.value=="1"&&c.itemData[$(a).attr("path")][$(a).attr("name")]){a.checked=true}else{if(a.value=="0"&&!c.itemData[$(a).attr("path")][$(a).attr("name")]){a.checked=true}}}};uinv.FCM.configMgr.model.layer.itemConfigInitData.color=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));if(typeof c.itemData[$(a).attr("path")][$(a).attr("name")]=="string"){$(a).val(c.itemData[$(a).attr("path")][$(a).attr("name")])}b.model.colorpicke.show(a)};uinv.FCM.configMgr.model.layer.itemConfigInitData.position3d=function(b){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.layer;var d=c.model.layer.keyFindObj($(b).attr("objectkey"));if(typeof d.itemData[$(b).attr("path")][$(b).attr("name")]=="object"){var a=$(b).parents("li").index();$(b).val(d.itemData[$(b).attr("path")][$(b).attr("name")][a])}};uinv.FCM.configMgr.model.layer.itemConfigInitData.position2d=function(b){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.layer;var d=c.model.layer.keyFindObj($(b).attr("objectkey"));if(typeof d.itemData[$(b).attr("path")][$(b).attr("name")]=="object"){var a=$(b).parents("li").index();$(b).val(d.itemData[$(b).attr("path")][$(b).attr("name")][a])}};uinv.FCM.configMgr.model.layer.itemConfigInitData.select=function(b){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.layer;var d=c.model.layer.keyFindObj($(b).attr("objectkey"));if(typeof d.itemData[$(b).attr("path")][$(b).attr("name")]!="undefined"){var a=d.itemData[$(b).attr("path")][$(b).attr("name")];$(b).find("option").each(function(){if($(this).attr("value")==a){this.selected=true}else{if(this.selected){this.selected=false}}})}};uinv.FCM.configMgr.model.layer.itemConfigSetData.string=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));c.itemData[$(a).attr("path")][$(a).attr("name")]=$(a).val()};uinv.FCM.configMgr.model.layer.itemConfigSetData.number=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));c.itemData[$(a).attr("path")][$(a).attr("name")]=Number($(a).val())};uinv.FCM.configMgr.model.layer.itemConfigSetData.bool=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));if(a.checked){if(a.value=="1"){c.itemData[$(a).attr("path")][$(a).attr("name")]=true}else{c.itemData[$(a).attr("path")][$(a).attr("name")]=false}}};uinv.FCM.configMgr.model.layer.itemConfigSetData.color=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));c.itemData[$(a).attr("path")][$(a).attr("name")]=$(a).val()};uinv.FCM.configMgr.model.layer.itemConfigSetData.position3d=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));if(typeof c.itemData[$(a).attr("path")][$(a).attr("name")]=="undefined"||c.itemData[$(a).attr("path")][$(a).attr("name")].length==3){c.itemData[$(a).attr("path")][$(a).attr("name")]=[]}c.itemData[$(a).attr("path")][$(a).attr("name")].push($(a).val())};uinv.FCM.configMgr.model.layer.itemConfigSetData.position2d=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));if(typeof c.itemData[$(a).attr("path")][$(a).attr("name")]=="undefined"||c.itemData[$(a).attr("path")][$(a).attr("name")].length==2){c.itemData[$(a).attr("path")][$(a).attr("name")]=[]}c.itemData[$(a).attr("path")][$(a).attr("name")].push($(a).val())};uinv.FCM.configMgr.model.layer.itemConfigSetData.select=function(a){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.layer;var c=b.model.layer.keyFindObj($(a).attr("objectkey"));$(a).find("option").each(function(){if(this.selected){c.itemData[$(a).attr("path")][$(a).attr("name")]=$(this).attr("value")}})};uinv.FCM.configMgr.model.layer.itemConfigTypeToHtml.string=function(e,c,b){var f=uinv.FCM.configMgr;var g=uinv.FCM.configMgr.model.layer;var d=typeof e.defaultItem=="undefined"?"":e.defaultItem;var a="";a+='<p class="row" style="margin:10px auto;">';if(typeof e.caption=="undefined"){a+="<span>"+e.name+"</span>"}else{a+="<span>"+e.caption+"</span>"}a+='<input type="text" objectkey="'+b+'" name="'+e.name+'" cate="string" path="'+c+'" value="'+d+'" />';a+="</p>";return a};uinv.FCM.configMgr.model.layer.itemConfigTypeToHtml.number=function(e,c,b){var f=uinv.FCM.configMgr;var g=uinv.FCM.configMgr.model.layer;var d=typeof e.defaultItem=="undefined"?"":e.defaultItem;var a="";a+='<p class="row" style="margin:10px auto;">';if(typeof e.caption=="undefined"){a+="<span>"+e.name+"</span>"}else{a+="<span>"+e.caption+"</span>"}a+='<input type="text" objectkey="'+b+'" name="'+e.name+'" cate="number" path="'+c+'" value="'+d+'" />';a+="</p>";return a};uinv.FCM.configMgr.model.layer.itemConfigTypeToHtml.bool=function(e,c,b){var f=uinv.FCM.configMgr;var g=uinv.FCM.configMgr.model.layer;var d=typeof e.defaultItem=="undefined"?false:e.defaultItem;var a="";a+='<p class="row" style="margin:10px auto;">';if(typeof e.caption=="undefined"){a+="<span>"+e.name+"</span>"}else{a+="<span>"+e.caption+"</span>"}if(d){a+=e.items.TRUE+'<input type="radio" objectkey="'+b+'" name="'+e.name+'" cate="bool" path="'+c+'" value="1" checked /> ';a+=e.items.FALSE+'<input type="radio" objectkey="'+b+'" name="'+e.name+'" cate="bool" path="'+c+'" value="0" /> '}else{a+=e.items.TRUE+'<input type="radio" objectkey="'+b+'" name="'+e.name+'" cate="bool" path="'+c+'" value="1" /> ';a+=e.items.FALSE+'<input type="radio" objectkey="'+b+'" name="'+e.name+'" cate="bool" path="'+c+'" value="0" checked /> '}a+="</p>";return a};uinv.FCM.configMgr.model.layer.itemConfigTypeToHtml.color=function(e,c,b){var f=uinv.FCM.configMgr;var g=uinv.FCM.configMgr.model.layer;var d=typeof e.defaultItem=="undefined"?"#FFFFFF":e.defaultItem;var a="";a+='<p class="row" style="margin:10px auto;">';if(typeof e.caption=="undefined"){a+="<span>"+e.name+"</span>"}else{a+="<span>"+e.caption+"</span>"}a+='<input type="text" objectkey="'+b+'" name="'+e.name+'" cate="color" path="'+c+'" value="'+d+'"  />';a+="</p>";return a};uinv.FCM.configMgr.model.layer.itemConfigTypeToHtml.position3d=function(d,c,b){var e=uinv.FCM.configMgr;var f=uinv.FCM.configMgr.model.layer;var a="";a+='<div class="row" style="margin:10px auto;">';if(typeof d.caption=="undefined"){a+="<span>"+d.name+"</span>"}else{a+="<span>"+d.caption+"</span>"}a+="<ul>";a+='<li style="list-style:none;"><span><s>'+d.items[0]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position3d" path="'+c+'"  /></li>';a+='<li style="list-style:none;"><span><s>'+d.items[1]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position3d" path="'+c+'"  /></li>';a+='<li style="list-style:none;"><span><s>'+d.items[2]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position3d" path="'+c+'"  /></li>';a+="</ul>";a+="</div>";return a};uinv.FCM.configMgr.model.layer.itemConfigTypeToHtml.position2d=function(d,c,b){var e=uinv.FCM.configMgr;var f=uinv.FCM.configMgr.model.layer;var a="";a+='<div class="row" style="margin:10px auto;">';if(typeof d.caption=="undefined"){a+="<span><s>"+d.name+"</s></span>"}else{a+="<span><s>"+d.caption+"</s></span>"}a+="<ul>";a+='<li style="list-style:none;"><span><s>'+d.items[0]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position2d" path="'+c+'"  /></li>';a+='<li style="list-style:none;"><span><s>'+d.items[1]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position2d" path="'+c+'"  /></li>';a+="</ul>";a+="</div>";return a};uinv.FCM.configMgr.model.layer.itemConfigTypeToHtml.select=function(b,h,j){var f=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.layer;var g=typeof b.defaultItem=="undefined"?"":b.defaultItem;var d="";d+='<div class="row" style="margin:10px auto;">';if(typeof b.caption=="undefined"){d+="<span>"+b.name+"</span>"}else{d+="<span>"+b.caption+"</span>"}d+='<select class="row_select" objectkey="'+j+'" name="'+b.name+'" cate="select" path="'+h+'">';for(var c=0,a=b.items.length;c<a;c++){if(b.items[c]==g){d+='<option value="'+b.items[c]+'" selected>'+b.items[c]+"</option>"}else{d+='<option value="'+b.items[c]+'">'+b.items[c]+"</option>"}}d+="</select>";d+="</div>";return d};uinv.FCM.configMgr.model.monitor.conditionArr=["<",">","="];uinv.FCM.configMgr.model.monitor.deleteFileArr=[];uinv.FCM.configMgr.model.monitor.obj=null;uinv.FCM.configMgr.model.monitor.objBoxClassStr="";uinv.FCM.configMgr.model.monitor.styleBoxClassStr="";uinv.FCM.configMgr.model.monitor.alarmlevelBoxClassStr="";uinv.FCM.configMgr.model.monitor.index="monitor";uinv.FCM.configMgr.model.monitor.position={x:[{name:"\u5de6",value:"LEFT"},{name:"\u4e2d",value:"CENTER"},{name:"\u53f3",value:"RIGHT"}],y:[{name:"\u4e0a",value:"TOP"},{name:"\u4e2d",value:"CENTER"},{name:"\u4e0b",value:"BOTTOM"}],z:[{name:"\u524d",value:"FRONT"},{name:"\u4e2d",value:"CENTER"},{name:"\u540e",value:"BACK"}]};uinv.FCM.configMgr.model.monitor.panelConfigAttributeField=[{name:"\u6307\u6807\u540d\u79f0",value:"attributeName",type:"string"},{name:"\u5355\u4f4d",value:"unit",type:"string"},{name:"\u6307\u6807\u53d6\u503c",value:"propertyPath",type:"string"},{name:"\u6700\u5c0f\u503c",value:"min",type:"number"},{name:"\u6700\u5927\u503c",value:"max",type:"number"},{name:"\u8fdb\u5ea6\u6761",value:"isProgressBar",type:"bool"},{name:"\u989c\u8272\u8bbe\u7f6e",value:"styleConfig",type:"styleConfig"}];uinv.FCM.configMgr.model.monitor.getSelectOptionHtml=function(a,e){var f=uinv.FCM.configMgr;var g=this;var d="";for(var c=0,b=g.position[a].length;c<b;c++){if(e==g.position[a][c].value){d+='<option value="'+g.position[a][c].value+'" selected>'+g.position[a][c].name+"</option>"}else{d+='<option value="'+g.position[a][c].value+'">'+g.position[a][c].name+"</option>"}}return d};uinv.FCM.configMgr.model.monitor.configShow=function(j){var h=uinv.FCM.configMgr,g=this,c=null,d=null,f=null;var b=g.keyFindObj(j);var a=g.nameFindPanel(b.panel);if(!a){return false}var l=h.global.projectPath+g.getPanelImagePath(a);var e="";e+='<div class="monitor">';e+='<div class="monitor_warp">';e+='<div class="monitor_name"><span><s>\u9762\u677f\u56fe\u7247</s></span><img src="'+l+'" /></div>';e+='<div class="monitor_set">';f=typeof b.config.pivotLayout=="undefined"?a.pivotLayout:b.config.pivotLayout;e+='<div class="each"  key="pivotLayout" cate="array">';e+='<span class="monitor_setname"><s>\u4e8c\u7ef4\u4f4d\u7f6e</s></span>';for(c=0,d=["x","y","z"];c<d.length;c++){if(c==d.length-1){e+="<span>";e+='<select name="pivotLayout" style="display:none;">'+g.getSelectOptionHtml(d[c],f[c])+"</select>";e+="</span>"}else{e+="<span>";e+='<select name="pivotLayout">'+g.getSelectOptionHtml(d[c],f[c])+"</select>";e+="</span>"}}e+="</div>";f=typeof b.config.layout=="undefined"?a.layout:b.config.layout;e+='<div class="each" key="layout" cate="array">';e+='<span class="monitor_setname"><s>\u4e09\u7ef4\u4f4d\u7f6e</s></span>';for(c=0,d=["x","y","z"];c<d.length;c++){e+="<span>";e+='<select name="layout">'+g.getSelectOptionHtml(d[c],f[c])+"</select>";e+="</span>"}e+="</div>";f=typeof b.config.layoutOffset=="undefined"?a.layoutOffset:b.config.layoutOffset;e+='<div class="each" key="layoutOffset" cate="array">';e+='<span class="monitor_setname"><s>\u504f\u79fb\u8bbe\u7f6e</s></span>';e+="<span>";e+='<input type="text" name="layoutOffset" value="'+f[0]+'" /> m ';e+="</span>";e+="<span>";e+='<input type="text" name="layoutOffset" value="'+f[1]+'" /> m ';e+="</span>";e+="<span>";e+='<input type="text" name="layoutOffset" value="'+f[2]+'" /> m ';e+="</span>";e+="</div>";f=typeof b.config.canvasScale=="undefined"?a.canvasScale:b.config.canvasScale;e+='<div class="each" key="canvasScale" cate="number">';e+='<span class="monitor_setname"><s>\u9762\u677f\u5927\u5c0f</s></span>';e+='<span class="monitor_zoom">';e+='<input type="text" name="canvasScale" value="'+f+'" />';e+="</span>";e+="</div>";e+="</div>";e+="</div>";e+='<div class="each" key="form" cate="form">';e+=g.panelConfigFormHtml(a,b);e+="</div>";e+='<div class="config-submit-btn"><input class="btn_save" onclick="uinv.FCM.configMgr.model.monitor.configHide(\''+b.panel+"','"+j+"');\" /></div>";e+="</div>";h.model.dialog.show(e);h.model.dialog.getObj().find(".color-config").find("input[name=config]").each(function(){h.model.colorpicke.show(this)})};uinv.FCM.configMgr.model.monitor.configHide=function(a,b){var c=uinv.FCM.configMgr;var d=this;c.model.dialog.getObj().find(".each").each(function(){if(typeof d.configSetData[$(this).attr("cate")]=="function"){d.configSetData[$(this).attr("cate")](this,d.keyFindObj(b))}});d.synchronousFormData(b);c.model.dialog.close();c.form.saveData()};uinv.FCM.configMgr.model.monitor.synchronousFormData=function(d){var f=uinv.FCM.configMgr;var h=this;var e=h.keyFindObj(d);for(var c=0,b=h.obj.panel.length;c<b;c++){for(var g in h.obj.panel[c].modify){for(var a in h.obj.panel[c].modify[g]){if(typeof e.form[h.obj.panel[c].modify[g][a].row]=="undefined"){continue}h.obj.panel[c].showMapping[g][a]=e.form[h.obj.panel[c].modify[g][a].row][h.obj.panel[c].modify[g][a].attribute]}}}};uinv.FCM.configMgr.model.monitor.panelConfigFormHtml=function(a,f){var e=uinv.FCM.configMgr,h=this,g=0,c=0,b="";b+='<table class="monitor_table">';b+="<tr>";for(c=0,k=h.panelConfigAttributeField.length;c<k;c++){b+="<th>"+h.panelConfigAttributeField[c].name+"</th>"}b+="</tr>";for(g=0;g<a.modifyCount;g++){b+='<tr class="row">';for(c=0,k=h.panelConfigAttributeField.length;c<k;c++){b+="<td>"+h.configTypeToHtml[h.panelConfigAttributeField[c].type](h.panelConfigAttributeField[c],f.form[g])+"</td>"}b+="</tr>"}b+="</table>";b+='<div class="color-config">';for(g=0;g<a.modifyCount;g++){var d=[];if(typeof f.form[g]=="object"&&typeof f.form[g].styleConfig=="object"){d=f.form[g].styleConfig}b+=h.styleConfigHtml(d)}b+="</div>";return b};uinv.FCM.configMgr.model.monitor.styleConfigHtmlRow=function(d){var e=uinv.FCM.configMgr;var f=this;if(typeof d=="undefined"){d={condition:f.conditionArr[0],number:0,config:"#FFFFFF"}}var c="";c+='<tr class="one" style="list-style:none;">';c+="<td>";c+='<select name="condition" cate="string">';for(var b=0,a=f.conditionArr.length;b<a;b++){if(d.condition==f.conditionArr[b]){c+='<option value="'+f.conditionArr[b]+'" selected>'+f.conditionArr[b]+"</option>"}else{c+='<option value="'+f.conditionArr[b]+'">'+f.conditionArr[b]+"</option>"}}c+="</select>";c+="</td>";c+="<td>";c+='<input type="text" name="number" cate="number" value="'+d.number+'" />';c+="</td>";c+="<td>";c+='<input type="text" name="config" cate="color" value="'+d.config+'" />';c+="</td>";c+="<td>";c+='<a onclick="uinv.FCM.configMgr.model.monitor.deleteStyleConfigRow(this);" href="javascript:void(0);"><s>\u5220\u9664</s></a>';c+="</td>";c+="</tr>";return c};uinv.FCM.configMgr.model.monitor.deleteStyleConfigRow=function(a){$(a).parents("tr:eq(0)").remove()};uinv.FCM.configMgr.model.monitor.addStyleConfigHtmlRow=function(e){var d=uinv.FCM.configMgr;var f=this;var b=f.styleConfigHtmlRow({condition:f.conditionArr[0],number:0,config:"#FFFFFF"});var a=$(e).parents(".row").find("table");a.append(b);var c=a.find(".one:last").find("input[name=config]").get(0);d.model.colorpicke.show(c)};uinv.FCM.configMgr.model.monitor.styleConfigHtml=function(d){var e=uinv.FCM.configMgr;var f=this;var c="";c+='<div class="row" style="display:none;">';c+='<div class="monitor_twarp">';c+='<table class="monitor_table">';c+="<tr>";c+="<th><s>\u6761\u4ef6</s></th>";c+="<th><s>\u6570\u503c</s></th>";c+="<th><s>\u989c\u8272</s></th>";c+="<th><s>\u64cd\u4f5c</s></th>";c+="</tr>";for(var b=0,a=d.length;b<a;b++){c+=f.styleConfigHtmlRow(d[b])}c+="</table>";c+="</div>";c+='<div class="action" style="margin-bottom:10px;">';c+='<input type="button" class="btn_add" onclick="uinv.FCM.configMgr.model.monitor.addStyleConfigHtmlRow(this);" />';c+="</div>";c+="</div>";return c};uinv.FCM.configMgr.model.monitor.settingStyleConfigDisplay=function(b){var c=uinv.FCM.configMgr;var d=this;var a=$(b).parents("tr.row").index()-1;c.model.dialog.getObj().find(".color-config").find(".row").each(function(e){if(e==a){$(this).show()}else{$(this).hide()}})};uinv.FCM.configMgr.model.monitor.uploadPanel=function(b){var c=uinv.FCM.configMgr;var e=this;var a=b.value.split("\\");var d=a.pop();uinv.server.manager.frame.upAndUnZip(b,d,function(f){if(f.success){var j=c.model.transform.str2obj(f.data);if(c.model.array.isArray(j)){for(var h=0,g=j.length;h<g;h++){e.uploadPanelHandle(j[h],d)}}else{e.uploadPanelHandle(j,d)}}else{c.note.alert(f.data)}})};uinv.FCM.configMgr.model.monitor.uploadPanelHandle=function(a,d){var j=uinv.FCM.configMgr;var h=this;var f=0;a.imagePath=a.previewImagePath;if(!h.checkModifyBody(a)){return false}var c=true;var e=h.nameFindPanel(a.name);if(e){c=j.note.confirm("\u9762\u677f"+a.name+"\u5e94\u7ecf\u5b58\u5728\uff0c\u662f\u5426\u8981\u8986\u76d6\uff1f")}if(e&&e.modifyCount>a.modifyCount&&typeof e.form!="undefined"&&e.form.length==e.modifyCount){var b="";b="\u60a8\u4e0a\u4f20\u7684\u65b0\u9762\u677fmodifyCount\u6bd4\u539f\u9762\u677fmodifyCount\u5c0f\r\n";b+="\u5c06\u8981\u5220\u9664\u539f\u9762\u677f\u914d\u7f6e\u4fe1\u606f\u7684\u6700\u540e"+(e.modifyCount-a.modifyCount)+"\u884c\u914d\u7f6e\r\n";b+="\u5185\u5bb9\u4e3a\uff1a\r\n";var g=[];for(f=a.modifyCount;f<e.modifyCount;f++){g.push(e.form[f])}b+=j.model.transform.obj2str(g);c=j.note.confirm(b);if(c){e.form.splice(a.modifyCount,e.modifyCount-a.modifyCount)}}if(c){a=h.addPanelToMemory(a);uinv.server.manager.frame.cutGeneralFile(a.downloadFile,h.getPanelZipPath(a));uinv.server.manager.frame.cutGeneralFile(a.imagePath,h.getPanelImagePath(a));j.model.download.set({url:h.getPanelZipPath(a),local:h.pathToDir(a.image)});h.objHtml();h.styleHtml();j.form.saveData();var l=h.getPanelPath(a);for(f=0;f<h.deleteFileArr.length;f++){if(h.deleteFileArr[f]==l){h.deleteFileArr.splice(f,1);f=0}}}};uinv.FCM.configMgr.model.monitor.pathToDir=function(c){var d=uinv.FCM.configMgr,e=this,b="",a=[];if(c.indexOf("/")>=0){a=c.split("/");a.pop();b=a.join("/")}if(c.indexOf("\\")>=0){a=c.split("\\");a.pop();b=a.join("\\")}return b};uinv.FCM.configMgr.model.monitor.getPanelPath=function(b){var a=uinv.FCM.configMgr;var c=this;return a.global.path+"/Monitor/"+b.name};uinv.FCM.configMgr.model.monitor.getPanelImagePath=function(b){var a=uinv.FCM.configMgr;var c=this;return a.global.path+"/Monitor/"+b.name+"/"+b.imagePath};uinv.FCM.configMgr.model.monitor.getPanelZipPath=function(b){var a=uinv.FCM.configMgr;var c=this;return a.global.path+"/Monitor/"+b.name+"/download.zip"};uinv.FCM.configMgr.model.monitor.addPanelToMemory=function(b){var d=uinv.FCM.configMgr;var e=this;if(e.nameFindPanel(b.name)){var c=e.nameFindPanel(b.name);var a=e.nameFindPanelIndex(b.name);e.obj.panel.splice(a,1,b)}else{e.obj.panel.push(b)}return b};uinv.FCM.configMgr.model.monitor.isUsePanel=function(b){var d=uinv.FCM.configMgr;var e=this;for(var c=0,a=d.data.monitor.object.length;c<a;c++){if(d.data.monitor.object[c].panel==b){return true}}return false};uinv.FCM.configMgr.model.monitor.checkModifyBody=function(a){var h=uinv.FCM.configMgr;var g=this;if(typeof a=="undefined"){return false}var b="\u4e0a\u4f20\u5931\u8d25\r\n";var l=false;for(var f in a.modify){for(var e in a.modify[f]){var c=false;for(var d in g.panelConfigAttributeField){if(g.panelConfigAttributeField[d].value==a.modify[f][e].attribute){c=true}}if(!c){l=true;b+=f+" -> "+e+" -> attribute "+a.modify[f][e].attribute+" \u5b57\u6bb5\u4e0d\u5b58\u5728 \r\n"}if(a.modify[f][e].row>=a.modifyCount){b+=f+" -> "+e+" -> row : "+a.modify[f][e].row+" \u8d85\u51famodifyCount\u7684\u503c \r\n"}}}if(l){h.note.alert(b);return false}else{return true}};uinv.FCM.configMgr.model.monitor.deletePanel=function(c){var e=uinv.FCM.configMgr;var f=this;var a=f.isUsePanel(c);if(a){e.note.alert("\u5220\u9664\u9762\u677f\u9519\u8bef\uff1a\u8fd9\u4e2a\u9762\u677f\u6b63\u5728\u4f7f\u7528\uff0c\u8bf7\u5148\u89e3\u9664\u4f7f\u7528\u540e\u518d\u5220\u9664\u3002");return false}var d=f.nameFindPanel(c);e.model.download.del(f.getPanelZipPath(d));f.deleteFileArr.push(f.getPanelPath(d));var b=f.nameFindPanelIndex(c);if(b>=0){f.obj.panel.splice(b,1);f.objHtml();f.styleHtml()}};uinv.FCM.configMgr.model.monitor.deleteObject=function(b){var c=uinv.FCM.configMgr;var d=this;var a=d.keyFindObjIndex(b);c.data.monitor.object.splice(a,1);d.objHtml()};uinv.FCM.configMgr.model.monitor.createObject=function(){var a=uinv.FCM.configMgr;var b=this;a.model.selector.show(function(c){a.model.selector.hide();var d=b.addObjectToMemory(c);b.addHtmlRow(d)})};uinv.FCM.configMgr.model.monitor.addObjectToMemory=function(b){var c=uinv.FCM.configMgr;var d=this;var a="";do{a=c.model.key.create(10)}while(d.keyFindObj(a));b.key=a;b.form=[];b.config={};c.data.monitor.object.push(b);return b};uinv.FCM.configMgr.model.monitor.keyFindObjIndex=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.monitor.object.length;b<a;b++){if(d.data.monitor.object[b].key==c){return b}}return -1};uinv.FCM.configMgr.model.monitor.keyFindObj=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.monitor.object.length;b<a;b++){if(d.data.monitor.object[b].key==c){return d.data.monitor.object[b]}}return false};uinv.FCM.configMgr.model.monitor.nameFindPanelIndex=function(b){var d=uinv.FCM.configMgr;var e=this;for(var c=0,a=e.obj.panel.length;c<a;c++){if(e.obj.panel[c].name==b){return c}}return -1};uinv.FCM.configMgr.model.monitor.nameFindPanel=function(b){var d=uinv.FCM.configMgr;var e=this;if(typeof e.obj.panel=="undefined"){e.obj.panel=[]}for(var c=0,a=e.obj.panel.length;c<a;c++){if(e.obj.panel[c].name==b){return e.obj.panel[c]}}return false};uinv.FCM.configMgr.model.monitor.objSelectPanel=function(d,c){var e=uinv.FCM.configMgr;var f=this;var b=true;if(f.nameFindPanel(f.keyFindObj(c).panel).modifyCount!=f.nameFindPanel(d.value).modifyCount){b=e.note.confirm("\u6b64\u64cd\u4f5c\u5c06\u4f1a\u5220\u9664\u539f"+f.keyFindObj(c).panel+"\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u662f\u5426\u8981\u7ee7\u7eed\u64cd\u4f5c\uff1f");if(b){f.keyFindObj(c).form={}}}if(b){f.keyFindObj(c).panel=d.value}else{var a=f.keyFindObj(c).panel;$(d).find("option").each(function(){if($(this).val()==a){this.selected=true}else{this.selected=false}})}};uinv.FCM.configMgr.model.monitor.addHtmlRow=function(b){var c=uinv.FCM.configMgr;var d=this;var a=d.objHtmlRow(b);c.form.box.find(d.objBoxClassStr).append(a);c.translate()};uinv.FCM.configMgr.model.monitor.objHtmlRow=function(d){var e=uinv.FCM.configMgr;var f=this;var c="";c+='<tr key="'+d.key+'">';c+='<td class="name">';c+="<a onclick=\"uinv.FCM.configMgr.model.monitor.objectRename(this,'"+d.key+'\');" href="javascript:void(0);">'+d.name+"</a>";c+="</td>";c+="<td>";c+="<select onchange=\"uinv.FCM.configMgr.model.monitor.objSelectPanel(this,'"+d.key+"');\">";c+='<option value="">'+u.le.get("\u8bf7\u9009\u62e9\u9762\u677f")+"</option>";for(var b=0,a=f.obj.panel.length;b<a;b++){if(typeof d.panel!="undefined"&&d.panel==f.obj.panel[b].name){c+='<option value="'+f.obj.panel[b].name+'" selected>'+f.obj.panel[b].caption+"</option>"}else{c+='<option value="'+f.obj.panel[b].name+'">'+f.obj.panel[b].caption+"</option>"}}c+="</select>";c+="</td>";c+="<td><a onclick=\"uinv.FCM.configMgr.model.monitor.configShow('"+d.key+'\');" href="javascript:void(0);"><s>\u7f16\u8f91</s></a></td>';c+="<td><a onclick=\"uinv.FCM.configMgr.model.monitor.deleteObject('"+d.key+'\');" href="javascript:void(0);"><s>\u5220\u9664</s></a></td>';c+="</tr>";return c};uinv.FCM.configMgr.model.monitor.objHtml=function(){var d=uinv.FCM.configMgr;var e=this;var c="";for(var b=0,a=d.data.monitor.object.length;b<a;b++){c+=e.objHtmlRow(d.data.monitor.object[b])}d.form.box.find(e.objBoxClassStr).find("tr:gt(0)").remove();d.form.box.find(e.objBoxClassStr).append(c);d.translate()};uinv.FCM.configMgr.model.monitor.objectRename=function(e,b){var f=uinv.FCM.configMgr;var g=this;var d=$(e).html();var c=$(e).parent();var a=c.html();c.html('<input type="text" value="'+d+'" />');c.find("input").focus().blur(function(){var h=$(this).val();c.html(a).find("a").html(h);g.keyFindObj(b).name=h}).keydown(function(h){var j=h||window.event;if(j.keyCode==13){var i=$(this).val();c.html(a).find("a").html(i);g.keyFindObj(b).name=i}})};uinv.FCM.configMgr.model.monitor.styleHtmlRow=function(b){var c=uinv.FCM.configMgr;var d=this;var a="";a+='<tr key="'+b.name+'">';a+='<td class="name">'+b.caption+"</td>";a+="<td>"+b.des+"</td>";a+="<td><a onclick=\"uinv.FCM.configMgr.model.monitor.deletePanel('"+b.name+'\');" href="javascript:void(0);"><s>\u5220\u9664</s></a></td>';a+="</tr>";return a};uinv.FCM.configMgr.model.monitor.styleHtml=function(){var d=uinv.FCM.configMgr;var e=this;var c="";for(var b=0,a=e.obj.panel.length;b<a;b++){c+=e.styleHtmlRow(e.obj.panel[b])}d.form.box.find(e.styleBoxClassStr).find("tr:gt(0)").remove();d.form.box.find(e.styleBoxClassStr).append(c);d.translate()};uinv.FCM.configMgr.model.monitor.alarmLevelHtml=function(){var d=uinv.FCM.configMgr;var e=this;var c="";if(typeof d.data.monitor.alarm.alarmLevel=="object"){for(var b=0,a=d.data.monitor.alarm.alarmLevel.length;b<a;b++){c+=e.alarmLevelHtmlRow(d.data.monitor.alarm.alarmLevel[b])}}d.form.box.find(e.alarmlevelBoxClassStr).find("tr:gt(0)").remove();d.form.box.find(e.alarmlevelBoxClassStr).append(c)};uinv.FCM.configMgr.model.monitor.alarmLevelHtmlRow=function(c){var b=uinv.FCM.configMgr;var d=this;var a="";a+='<tr class="row">';a+="<td>";a+='<input type="text" name="name" value="'+c.name+'" />';a+="</td>";a+="<td>";a+='<input type="text" name="color" value="'+c.color+'" />';a+="</td>";a+="<td>";a+='<a onclick="uinv.FCM.configMgr.model.monitor.deleteAlarmLevelRow(this);" href="javascript:void(0);"><s>\u5220\u9664</s></a>';a+="</td>";a+="</tr>";return a};uinv.FCM.configMgr.model.monitor.deleteAlarmLevelRow=function(a){var b=uinv.FCM.configMgr;var c=this;$(a).parents(".row:eq(0)").remove()};uinv.FCM.configMgr.model.monitor.addAlarmLevel=function(){var d=uinv.FCM.configMgr;var e=this;var c={name:"",color:"#FFF"};var a=e.alarmLevelHtmlRow(c);d.form.box.find(e.alarmlevelBoxClassStr).append(a);var b=d.form.box.find(e.alarmlevelBoxClassStr).find(".row:last").find("input[name=color]").get(0);d.model.colorpicke.show(b)};uinv.FCM.configMgr.model.monitor.init=function(b){var a=uinv.FCM.configMgr;var c=this;a.form.submitCallback=function(){a.model.stringDB.set(c.index,c.obj);for(var e=0,d=c.deleteFileArr.length;e<d;e++){uinv.server.manager.frame.delFile(c.deleteFileArr[e])}};c.objBoxClassStr=b.objBox||"";c.styleBoxClassStr=b.styleBox||"";c.alarmlevelBoxClassStr=b.alarmlevelBox||"";c.obj=a.model.stringDB.get(c.index);c.obj.panel=typeof c.obj.panel=="undefined"?[]:c.obj.panel;c.objHtml();c.styleHtml();c.alarmLevelHtml()};uinv.FCM.configMgr.model.monitor.configSetData.array=function(b,d){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.monitor;var a=$(b).attr("key");d.config[a]=[];$(b).find("*[name="+a+"]").each(function(){d.config[a].push($(this).val())})};uinv.FCM.configMgr.model.monitor.configSetData.number=function(b,d){var c=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.monitor;var a=$(b).attr("key");d.config[a]=Number($(b).find("*[name="+a+"]").val())};uinv.FCM.configMgr.model.monitor.configSetData.form=function(a,c){var b=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.monitor;c.form=[];$(a).find("tr.row").each(function(e){c.form[e]={};$(this).find("*[name][cate]").each(function(){d.configTypeToData[$(this).attr("cate")](this,c.form[e])})})};uinv.FCM.configMgr.model.monitor.configStyleTypeToData.number=function(a){return Number(a)};uinv.FCM.configMgr.model.monitor.configStyleTypeToData.string=function(a){return a};uinv.FCM.configMgr.model.monitor.configStyleTypeToData.color=function(a){var b=uinv.FCM.configMgr;var c=b.model.monitor;return a};uinv.FCM.configMgr.model.monitor.configTypeToData.string=function(b,a){a[$(b).attr("name")]=$(b).val()};uinv.FCM.configMgr.model.monitor.configTypeToData.number=function(b,a){a[$(b).attr("name")]=Number($(b).val())};uinv.FCM.configMgr.model.monitor.configTypeToData.bool=function(b,a){if($(b).val()=="1"){a[$(b).attr("name")]=true}else{a[$(b).attr("name")]=false}};uinv.FCM.configMgr.model.monitor.configTypeToData.styleConfig=function(e,c){var d=uinv.FCM.configMgr;var f=d.model.monitor;var b=$(e).attr("name");c[b]=[];var a=$(e).parents("tr.row").index()-1;d.model.dialog.getObj().find(".color-config").find(".row:eq("+a+")").find("table").find("tr.one").each(function(){var g={};$(this).find("*[name]").each(function(){g[$(this).attr("name")]=f.configStyleTypeToData[$(this).attr("cate")](this.value)});c[b].push(g)})};uinv.FCM.configMgr.model.monitor.configTypeToHtml.string=function(b,a){if(typeof a=="undefined"){a={};a[b.value]=""}return'<input type="text" name="'+b.value+'" value="'+a[b.value]+'" cate="string" />'};uinv.FCM.configMgr.model.monitor.configTypeToHtml.number=function(b,a){if(typeof a=="undefined"){a={};a[b.value]=0}return'<input type="text" name="'+b.value+'" value="'+a[b.value]+'" cate="number" />'};uinv.FCM.configMgr.model.monitor.configTypeToHtml.bool=function(c,b){if(typeof b=="undefined"){b={};b[c.value]=false}var a="";a+='<select name="'+c.value+'" cate="bool">';if(b[c.value]){a+='<option value="1" selected>\u662f</option>';a+='<option value="0">\u5426</option>'}else{a+='<option value="1">\u662f</option>';a+='<option value="0"  selected>\u5426</option>'}a+="</select>";return a};uinv.FCM.configMgr.model.monitor.configTypeToHtml.styleConfig=function(c,a){var b=uinv.FCM.configMgr;var d=b.model.monitor;if(typeof a=="undefined"){a={}}if(typeof a[c.value]=="undefined"){a[c.value]=[]}d.styleConfigHtml(a[c.value]);return'<input type="button" class="btn_set" name="'+c.value+'" cate="styleConfig" onclick="uinv.FCM.configMgr.model.monitor.settingStyleConfigDisplay(this);" />'};uinv.FCM.configMgr.model.object.o2o=function(d,c){var e=uinv.FCM.configMgr;var f=this;var b=null;if(typeof d!=typeof c){return false}if(typeof d.length!=typeof c.length){return false}var a=true;for(b in d){if(b in c){if(typeof d[b]=="object"){a=f.o2o(d[b],c[b])}else{if(d[b]!==c[b]){a=false}}}else{a=false}}for(b in c){if(b in d){if(typeof c[b]=="object"){a=f.o2o(c[b],d[b])}else{if(c[b]!==d[b]){a=false}}}else{a=false}}return a};uinv.FCM.configMgr.model.object.coverObj=function(b,c){var d=uinv.FCM.configMgr;var e=this;for(var a in b){if(typeof(c[a])=="undefined"){c[a]=b[a]}else{if(typeof b[a]=="object"){e.coverObj(b[a],c[a])}else{c[a]=b[a]}}}};uinv.FCM.configMgr.model.object.clone=function(d){var e=uinv.FCM.configMgr;var g=this;var f=null;if(null===d||"object"!=typeof d){return d}if(d instanceof Date){f=new Date();f.setTime(d.getTime());return f}if(d instanceof Array){f=[];for(var c=0,b=d.length;c<b;++c){f[c]=g.clone(d[c])}return f}if(d instanceof Object){f={};for(var a in d){if(d.hasOwnProperty(a)){f[a]=g.clone(d[a])}}return f}e.note.alert(e.msg.S12)};uinv.FCM.configMgr.model.object.isObject=function(b){var a=uinv.FCM.configMgr;var c=this;return b instanceof Object};uinv.FCM.configMgr.model.panel.globalPanelManagementBoxClass="panel-global";uinv.FCM.configMgr.model.panel.index="panel";uinv.FCM.configMgr.model.panel.uploadPanelSelector="";uinv.FCM.configMgr.model.panel.obj=null;uinv.FCM.configMgr.model.panel.upMoveBtnClass="upmove";uinv.FCM.configMgr.model.panel.classStr="";uinv.FCM.configMgr.model.panel.keyFindObj=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.panel.length;b<a;b++){if(c==d.data.panel[b].key){return d.data.panel[b]}}return{}};uinv.FCM.configMgr.model.panel.keyDelObj=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.panel.length;b<a;b++){if(c==d.data.panel[b].key){d.data.panel.splice(b,1);return true}}return false};uinv.FCM.configMgr.model.panel.createObject=function(){var a=uinv.FCM.configMgr;var b=this;a.model.selector.show(function(f){var c=b.checkObjectExist(f.where);if(c){a.note.alert(a.msg.S6);return false}a.model.selector.cancelAddNodeWhere();var e=b.addObject(f);var d=b.mkhtml(e);$(b.classStr).append(d)})};uinv.FCM.configMgr.model.panel.insertDividingLine=function(d,b){var f=uinv.FCM.configMgr;var g=this;if(!b){f.note.dialog(f.msg.S7);return false}var a=g.mkHtmlList({key:b},{name:u.le.get("\u5206\u5272\u7ebf")});var c=$(d).parents(".list").find("ul");c.append(a);var e=c.find("li:last").find("*[name][cate][value]").get(0);e.checked=true;g.checkd(e);e.disabled=true};uinv.FCM.configMgr.model.panel.deleteObj=function(a){var b=uinv.FCM.configMgr;var c=this;c.keyDelObj(a);b.form.box.find(".obj-"+a).remove()};uinv.FCM.configMgr.model.panel.deleteObjPanel=function(b){var c=uinv.FCM.configMgr;var e=this;var d=$(b).parents("li").find("*[cate][name][value]").attr("value");if(d==u.le.get("\u5206\u5272\u7ebf")){$(b).parents("li").remove()}else{com=c.note.confirm(c.msg.S8);if(!com){return false}for(var a in c.data.panel){e.keyDeleteObjPanelLi(c.data.panel[a].key,d);e.keyDeleteObjPanel(c.data.panel[a],d)}}};uinv.FCM.configMgr.model.panel.keyDeleteObjPanel=function(b,e){var c=uinv.FCM.configMgr;var d=this;var a=0;if(c.model.array.inArray(e,b.order)){a=c.model.array.strInArrayIndex(e,b.order);b.order.splice(a,1)}if(c.model.array.inArray(e,b.item)){a=c.model.array.strInArrayIndex(e,b.item);b.item.splice(a,1)}};uinv.FCM.configMgr.model.panel.keyDeleteObjPanelLi=function(a,b){var c=uinv.FCM.configMgr;var d=this;c.form.box.find(d.classStr).find(".obj-"+a).find("li").each(function(){if($(this).find("*[cate][name][value]").attr("value")==b){$(this).remove()}})};uinv.FCM.configMgr.model.panel.modifyObjectName=function(b,d){var e=uinv.FCM.configMgr;var f=this;var c=$(d).html();var a=$(d).parent();a.html('<input type="text" value="'+c+'" />');a.find("input").focus().blur(function(){f.keyFindObj(b).name=$(this).val();$(this).parent().html("<span onclick=\"uinv.FCM.configMgr.model.panel.modifyObjectName('"+b+"',this);\">"+$(this).val()+"</span>")}).keydown(function(g){var h=g||windown.event;if(h.keyCode==13){f.keyFindObj(b).name=$(this).val();$(this).parent().html("<span onclick=\"uinv.FCM.configMgr.model.panel.modifyObjectName('"+b+"',this);\">"+$(this).val()+"</span>")}})};uinv.FCM.configMgr.model.panel.mkhtml=function(d){var e=uinv.FCM.configMgr;var f=this;var c="";c+='<div class="list obj-'+d.key+'">';c+='<div class="header" style="position:relative;">';c+="<h3><span onclick=\"uinv.FCM.configMgr.model.panel.modifyObjectName('"+d.key+"',this);\">"+d.name+"</span></h3>";c+='<span class="action" style="position:absolute;right:10px;">';c+="<a onclick=\"uinv.FCM.configMgr.model.panel.deleteObj('"+d.key+'\');" href="javascript:void(0);"><s>\u5220\u9664</s></a>';c+="</span>";c+="</div>";c+="<ul>";for(var b=0,a=d.order.length;b<a;b++){if(d.order[b] in f.obj){c+=f.mkHtmlList(d,f.obj[d.order[b]])}else{c+=f.mkHtmlList(d,{name:d.order[b]})}}c+="</ul>";c+="</div>";return c};uinv.FCM.configMgr.model.panel.mkHtmlList=function(d,a){var e=uinv.FCM.configMgr;var g=this;var c=typeof a.__key=="string"?a.__key:a.name;var f=a.name==u.le.get("\u5206\u5272\u7ebf")?"\u64a4\u9500":"\u5220\u9664";var b="";b+="<li>";b+='<span class="panel_name">'+a.name+"</span>";b+='<span class="action panel_up">';b+='<a onclick="uinv.FCM.configMgr.model.panel.upMove(this);" class="'+g.upMoveBtnClass+'" href="javascript:void(0);" style="display:none;"><s>\u4e0a\u79fb</s></a>';b+="</span>";if(typeof a.itemConfig=="object"){b+='<span class="panel_edit">';b+="<a onclick=\"uinv.FCM.configMgr.model.panel.itemConfig('"+c+"','"+d.key+'\');" href="javascript:void(0);"><s>\u7f16\u8f91</s></a>';b+="</span>"}else{b+='<span class="panel_edit">';b+="&nbsp;";b+="</span>"}b+='<span class="panel_del">';b+='<a onclick="uinv.FCM.configMgr.model.panel.deleteObjPanel(this);" href="javascript:void(0);"><s>'+f+"</s></a>";b+="</span>";b+='<span class="panel_checkbox">';b+='<input onclick="uinv.FCM.configMgr.model.panel.checkd(this);"';b+=' name="'+d.key+'" value="'+c+'"';b+=' cate="panel" path="panel" type="checkbox" />';b+="</span>";b+="</li>";return b};uinv.FCM.configMgr.model.panel.itemConfig=function(e,d){var f=uinv.FCM.configMgr;var g=this;if(typeof g.obj[e].itemConfig=="undefined"){g.note.alert(f.msg.S9)}_panel=g.keyFindObj(d);_panel.itemData=typeof _panel.itemData=="undefined"?{}:_panel.itemData;_panel.itemData[e]=typeof _panel.itemData[e]=="undefined"?{}:_panel.itemData[e];var c="";c+='<div class="itemConfig" style="padding:10px;">';for(var b=0,a=g.obj[e].itemConfig.length;b<a;b++){if(typeof g.itemConfigTypeToHtml[g.obj[e].itemConfig[b].type]=="function"){c+=g.itemConfigTypeToHtml[g.obj[e].itemConfig[b].type](g.obj[e].itemConfig[b],e,d)}}c+='<p class="action">';c+='<input class="btn_cancel" onclick="uinv.FCM.configMgr.model.dialog.close();" />';c+='<input class="btn_save" onclick="uinv.FCM.configMgr.model.panel.itemConfigSubmit();" />';c+="</p>";c+="</div>";f.model.dialog.show(c);g.itemConfigFormInit(d)};uinv.FCM.configMgr.model.panel.itemConfigFormInit=function(){var a=uinv.FCM.configMgr;var b=this;a.model.dialog.getObj().find(".itemConfig").find("*[name][cate][path]").each(function(){if(typeof b.itemConfigInitData[$(this).attr("cate")]=="function"){b.itemConfigInitData[$(this).attr("cate")](this)}})};uinv.FCM.configMgr.model.panel.itemConfigSubmit=function(){var a=uinv.FCM.configMgr;var b=this;a.model.dialog.getObj().find(".itemConfig").find("*[name][cate][path]").each(function(){if(typeof b.itemConfigSetData[$(this).attr("cate")]=="function"){b.itemConfigSetData[$(this).attr("cate")](this)}});a.model.dialog.close()};uinv.FCM.configMgr.model.panel.addPanelOneToObj=function(b,a){var c=uinv.FCM.configMgr;var d=this;c.form.box.find(".obj-"+b).find("ul").append(a)};uinv.FCM.configMgr.model.panel.removeObjPanelIsValue=function(a,b){var c=uinv.FCM.configMgr;var d=this;c.form.box.find(".obj-"+a).find('*[name="'+a+'"][value="'+b+'"]').parents("li").remove()};uinv.FCM.configMgr.model.panel.order=function(c){var d=uinv.FCM.configMgr;var e=this;var b=0;var a=0;d.form.box.find("*[name="+$(c).attr("name")+"]").each(function(f){if(this.checked===true&&this!=c){b++}else{if(this==c){a=f}}});if(a!=b){if(c.checked===true){d.form.box.find("*[name="+$(c).attr("name")+"]:eq("+b+")").parents("li").before($(c).parents("li"))}else{d.form.box.find("*[name="+$(c).attr("name")+"]:eq("+b+")").parents("li").after($(c).parents("li"))}}};uinv.FCM.configMgr.model.panel.showUpMoveBtn=function(a){var b=uinv.FCM.configMgr;var c=this;$(a).parents("li").find("."+c.upMoveBtnClass).show()};uinv.FCM.configMgr.model.panel.hideUpMoveBtn=function(a){var b=uinv.FCM.configMgr;var c=this;$(a).parents("li").find("."+c.upMoveBtnClass).hide()};uinv.FCM.configMgr.model.panel.checkd=function(a){var b=uinv.FCM.configMgr;var c=this;c.order(a);if(a.checked===true){$(a).parents("li").addClass("checked");c.showUpMoveBtn(a)}else{$(a).parents("li").removeClass("checked");c.hideUpMoveBtn(a)}};uinv.FCM.configMgr.model.panel.checkedPanelOrder=function(a){var g=uinv.FCM.configMgr;var f=this;var h=f.keyFindObj(a);var j=g.form.box.find("*[name="+a+"]:checked");if(h.item.length==j.length){for(var d=0,b=h.item.length;d<b;d++){var c=g.form.box.find("*[name="+a+'][value="'+h.item[d]+'"]');var e=c.parents("li").index();if(d!=e){g.form.box.find("*[name="+a+"]:eq("+d+")").parents("li").before(c.parents("li"))}}}};uinv.FCM.configMgr.model.panel.upMove=function(d){var e=uinv.FCM.configMgr;var f=this;var c=$(d).parents("li").find("input[type=checkbox][name]");if(c.get(0).checked===false){return}var b=$(d).parents("li").index();if(b===0){return}b--;var a=c.attr("name");e.form.box.find("*[name="+a+"]:eq("+b+")").parents("li").before($(d).parents("li"))};uinv.FCM.configMgr.model.panel.checkHasKey=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.panel.length;b<a;b++){if(d.data.panel[b].key==c){return true}}return false};uinv.FCM.configMgr.model.panel.addObject=function(e){var f=uinv.FCM.configMgr;var g=this;var d="";var a=false;do{d=f.model.key.create(32);a=g.checkHasKey(d)}while(a);var c={key:d,name:e.name,obj:e.where,itemConfig:{},order:[],item:[]};for(var b in g.obj){c.order.push(b)}f.data.panel.push(c);return c};uinv.FCM.configMgr.model.panel.judgeObjectIsEq=function(c,b){var d=uinv.FCM.configMgr;var e=this;var a=false;if(typeof c.classid!="undefined"&&typeof b.classid!="undefined"&&c.classid==b.classid){a=true}if(typeof c.name!="undefined"&&typeof b.name!="undefined"&&c.name==b.name){a=true}if(typeof c.attribute!="undefined"&&typeof b.attribute!="undefined"&&c.attribute[0].key==b.attribute[0].key&&c.attribute[0].value==b.attribute[0].value){a=true}return a};uinv.FCM.configMgr.model.panel.checkObjectExist=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.panel.length;b<a;b++){if(e.judgeObjectIsEq(c,d.data.panel[b].obj)){return true}}return false};uinv.FCM.configMgr.model.panel.add=function(b,a){var c=uinv.FCM.configMgr;var d=this;if(typeof d.uploadPanelSelector=="undefined"){d.addPanelToGlobalLib(b,d.addPanelToGlobalLibCallback)}else{d.addPanelToObjLib(b,d.addPanelToObjLibCallback)}};uinv.FCM.configMgr.model.panel.addPanelToGlobalLib=function(d,a){var e=uinv.FCM.configMgr;var f=this;var c=typeof d.__key=="string"?d.__key:d.name;f.obj[c]={};for(var b in d){f.obj[c][b]=d[b]}if(typeof a=="function"){a.apply(f,[d])}};uinv.FCM.configMgr.model.panel.addPanelToGlobalLibCallback=function(e){var f=uinv.FCM.configMgr;var g=this;g.obj[e.name]=f.model.object.clone(e);for(var d=0,a=f.data.panel.length;d<a;d++){var c=f.data.panel[d].key;var b=g.mkHtmlList({key:c},e);g.removeObjPanelIsValue(c,e.name);g.addPanelOneToObj(c,b)}};uinv.FCM.configMgr.model.panel.setDBCallback=function(){var a=uinv.FCM.configMgr;var b=this};uinv.FCM.configMgr.model.panel.addPanelToObjLib=function(e,a){var f=uinv.FCM.configMgr;var g=this;var d=e.name;if(typeof e.__key=="string"){d=e.__key}var b=g.keyFindObj(g.uploadPanelSelector);b.lib[d]={};b.order.push(d);for(var c in e){b.lib[d][c]=e[c]}if(typeof a=="function"){a(b,e)}};uinv.FCM.configMgr.model.panel.addPanelToObjLibCallback=function(e,a){var f=uinv.FCM.configMgr;var g=this;var d=true;var c=typeof a.__key=="string"?a.__key:a.name;var b=g.mkHtmlList(e,a);g.removeObjPanelIsValue(e.key,c);g.addPanelOneToObj(e.key,b)};uinv.FCM.configMgr.model.panel.getPanelList=function(){var a=uinv.FCM.configMgr;var b=this;return a.model.stringDB.get(b.index)};uinv.FCM.configMgr.model.panel.upload=function(e,a){var f=uinv.FCM.configMgr;var g=this;if(a){var d=g.keyFindObj(a);if(typeof d.lib=="undefined"){f.note.alert(f.msg.s10);return}}g.uploadPanelSelector=a;var c=$(e).val().split("\\");var b=c[c.length-1];uinv.server.manager.frame.upAndUnZip(e,b,function(h){g.uploadCallback(h)})};uinv.FCM.configMgr.model.panel.uploadCallback=function(a){var f=uinv.FCM.configMgr;var g=this;if(a.success){var e=f.model.transform.str2obj(a.data);var c=g.verificationPanelData(e);if(c){if(f.model.array.isArray(e)){for(var d=0,b=e.length;d<b;d++){g.add(e[d],g.addCallback)}}else{g.add(e,g.addCallback)}}f.form.submit()}else{f.note.alert(a.data)}};uinv.FCM.configMgr.model.panel.verificationPanelData=function(c){var d=uinv.FCM.configMgr;var e=this;if(d.model.array.isArray(c)){for(var b=0,a=c.length;b<a;b++){if(!d.model.object.isObject(c[b])||typeof c[b].name=="undefined"){d.note.dialog(d.msg.S11);return false}}return true}else{if(d.model.object.isObject(c)){if(typeof c.name!="undefined"){return true}else{d.note.dialog(d.msg.S11);return false}}else{d.note.dialog(d.msg.S11);return false}}};uinv.FCM.configMgr.model.panel.globalPanelListHtml=function(b){var c=uinv.FCM.configMgr;var d=this;var a="";a+='<li style="margin:10px; position:relative;" key="'+b.name+'">';a+=b.name;a+='<span class="action" style="position:absolute;right:0; top:0;">';a+="<a onclick=\"uinv.FCM.configMgr.model.panel.deleteGlobalPanel(this, '"+b.name+'\');" href="javascript:void(0);"><s>\u5220\u9664</s></a>';a+="</span>";a+="</li>";return a};uinv.FCM.configMgr.model.panel.globalPanelManager=function(){var c=uinv.FCM.configMgr;var d=this;var b="";b+='<div style="width:500px;" class="'+d.globalPanelManagementBoxClass+'">';b+="<div>";b+='<s>\u4e0a\u4f20\u65b0\u9762\u677f</s><input type="file" onchange="uinv.FCM.configMgr.model.panel.upload(this);" /><br />';b+='<input type="text" /><button><s>\u6dfb\u52a0\u5206\u7c7b</s></button>';b+="</div>";b+="<br />";b+='<ul style="width:100%;">';for(var a in d.obj){b+=d.globalPanelListHtml(d.obj[a])}b+="</ul>";b+='<div class="action" style="width:100%;text-align:center;">';b+='<input class="btn_save" onclick="uinv.FCM.configMgr.model.dialog.close(uinv.FCM.configMgr.model.panel.globalPanelManagerCallBack);" />';b+="</div>";b+="</div>";c.model.dialog.show(b)};uinv.FCM.configMgr.model.panel.globalPanelManagerCallBack=function(){var a=uinv.FCM.configMgr;var b=this;a.model.stringDB.set(b.index,b.obj)};uinv.FCM.configMgr.model.panel.deleteGlobalPanel=function(b,a){var c=uinv.FCM.configMgr;var d=this;if(typeof d.obj[a]!="undefined"){delete d.obj[a]}$(b).parents("li").remove()};uinv.FCM.configMgr.model.panel.init=function(d){var e=uinv.FCM.configMgr;var f=this;e.form.submitCallback=function(){e.model.stringDB.set(f.index,f.obj,f.setDBCallback)};f.classStr=d||f.classStr;f.obj=f.getPanelList();var c="";for(var b=0,a=e.data.panel.length;b<a;b++){c+=f.mkhtml(e.data.panel[b])}e.form.box.find(f.classStr).html(c)};uinv.FCM.configMgr.model.panel.itemConfigInitData.string=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));if(typeof a.itemData[$(b).attr("path")][$(b).attr("name")]=="string"){$(b).val(a.itemData[$(b).attr("path")][$(b).attr("name")])}};uinv.FCM.configMgr.model.panel.itemConfigInitData.number=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));if(typeof a.itemData[$(b).attr("path")][$(b).attr("name")]=="number"){$(b).val(a.itemData[$(b).attr("path")][$(b).attr("name")])}};uinv.FCM.configMgr.model.panel.itemConfigInitData.bool=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));if(typeof a.itemData[$(b).attr("path")][$(b).attr("name")]=="boolean"){if(b.value=="1"&&a.itemData[$(b).attr("path")][$(b).attr("name")]){b.checked=true}else{if(b.value=="0"&&!a.itemData[$(b).attr("path")][$(b).attr("name")]){b.checked=true}}}};uinv.FCM.configMgr.model.panel.itemConfigInitData.color=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));if(typeof a.itemData[$(b).attr("path")][$(b).attr("name")]=="string"){$(b).val(a.itemData[$(b).attr("path")][$(b).attr("name")])}c.model.colorpicke.show(b)};uinv.FCM.configMgr.model.panel.itemConfigInitData.position3d=function(c){var d=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.panel;var b=d.model.panel.keyFindObj($(c).attr("objectkey"));if(typeof b.itemData[$(c).attr("path")][$(c).attr("name")]=="object"){var a=$(c).parents("li").index();$(c).val(b.itemData[$(c).attr("path")][$(c).attr("name")][a])}};uinv.FCM.configMgr.model.panel.itemConfigInitData.position2d=function(c){var d=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.panel;var b=d.model.panel.keyFindObj($(c).attr("objectkey"));if(typeof b.itemData[$(c).attr("path")][$(c).attr("name")]=="object"){var a=$(c).parents("li").index();$(c).val(b.itemData[$(c).attr("path")][$(c).attr("name")][a])}};uinv.FCM.configMgr.model.panel.itemConfigInitData.select=function(c){var d=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.panel;var b=d.model.panel.keyFindObj($(c).attr("objectkey"));if(typeof b.itemData[$(c).attr("path")][$(c).attr("name")]!="undefined"){var a=b.itemData[$(c).attr("path")][$(c).attr("name")];$(c).find("option").each(function(){if($(this).attr("value")==a){this.selected=true}else{if(this.selected){this.selected=false}}})}};uinv.FCM.configMgr.model.panel.itemConfigSetData.string=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));a.itemData[$(b).attr("path")][$(b).attr("name")]=$(b).val()};uinv.FCM.configMgr.model.panel.itemConfigSetData.number=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));a.itemData[$(b).attr("path")][$(b).attr("name")]=Number($(b).val())};uinv.FCM.configMgr.model.panel.itemConfigSetData.bool=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));if(b.checked){if(b.value=="1"){a.itemData[$(b).attr("path")][$(b).attr("name")]=true}else{a.itemData[$(b).attr("path")][$(b).attr("name")]=false}}};uinv.FCM.configMgr.model.panel.itemConfigSetData.color=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));a.itemData[$(b).attr("path")][$(b).attr("name")]=$(b).val()};uinv.FCM.configMgr.model.panel.itemConfigSetData.position3d=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));if(typeof a.itemData[$(b).attr("path")][$(b).attr("name")]=="undefined"||a.itemData[$(b).attr("path")][$(b).attr("name")].length==3){a.itemData[$(b).attr("path")][$(b).attr("name")]=[]}a.itemData[$(b).attr("path")][$(b).attr("name")].push($(b).val())};uinv.FCM.configMgr.model.panel.itemConfigSetData.position2d=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));if(typeof a.itemData[$(b).attr("path")][$(b).attr("name")]=="undefined"||a.itemData[$(b).attr("path")][$(b).attr("name")].length==2){a.itemData[$(b).attr("path")][$(b).attr("name")]=[]}a.itemData[$(b).attr("path")][$(b).attr("name")].push($(b).val())};uinv.FCM.configMgr.model.panel.itemConfigSetData.select=function(b){var c=uinv.FCM.configMgr;var d=uinv.FCM.configMgr.model.panel;var a=c.model.panel.keyFindObj($(b).attr("objectkey"));$(b).find("option").each(function(){if(this.selected){a.itemData[$(b).attr("path")][$(b).attr("name")]=$(this).attr("value")}})};uinv.FCM.configMgr.model.panel.itemConfigTypeToHtml.string=function(e,c,b){var f=uinv.FCM.configMgr;var g=uinv.FCM.configMgr.model.panel;var d=typeof e.defaultItem=="undefined"?"":e.defaultItem;var a="";a+='<p class="row" style="margin:10px auto;">';if(typeof e.caption=="undefined"){a+="<span>"+e.name+"</span>"}else{a+="<span>"+e.caption+"</span>"}a+='<input type="text" objectkey="'+b+'" name="'+e.name+'" cate="string" path="'+c+'" value="'+d+'" />';a+="</p>";return a};uinv.FCM.configMgr.model.panel.itemConfigTypeToHtml.number=function(e,c,b){var f=uinv.FCM.configMgr;var g=uinv.FCM.configMgr.model.panel;var d=typeof e.defaultItem=="undefined"?"":e.defaultItem;var a="";a+='<p class="row" style="margin:10px auto;">';if(typeof e.caption=="undefined"){a+="<span>"+e.name+"</span>"}else{a+="<span>"+e.caption+"</span>"}a+='<input type="text" objectkey="'+b+'" name="'+e.name+'" cate="number" path="'+c+'" value="'+d+'" />';a+="</p>";return a};uinv.FCM.configMgr.model.panel.itemConfigTypeToHtml.bool=function(e,c,b){var f=uinv.FCM.configMgr;var g=uinv.FCM.configMgr.model.panel;var d=typeof e.defaultItem=="undefined"?false:e.defaultItem;var a="";a+='<p class="row" style="margin:10px auto;">';if(typeof e.caption=="undefined"){a+="<span>"+e.name+"</span>"}else{a+="<span>"+e.caption+"</span>"}if(d){a+=e.items.TRUE+'<input type="radio" objectkey="'+b+'" name="'+e.name+'" cate="bool" path="'+c+'" value="1" checked /> ';a+=e.items.FALSE+'<input type="radio" objectkey="'+b+'" name="'+e.name+'" cate="bool" path="'+c+'" value="0" /> '}else{a+=e.items.TRUE+'<input type="radio" objectkey="'+b+'" name="'+e.name+'" cate="bool" path="'+c+'" value="1" /> ';a+=e.items.FALSE+'<input type="radio" objectkey="'+b+'" name="'+e.name+'" cate="bool" path="'+c+'" value="0" checked /> '}a+="</p>";return a};uinv.FCM.configMgr.model.panel.itemConfigTypeToHtml.color=function(e,c,b){var f=uinv.FCM.configMgr;var g=uinv.FCM.configMgr.model.panel;var d=typeof e.defaultItem=="undefined"?"#FFFFFF":e.defaultItem;var a="";a+='<p class="row" style="margin:10px auto;">';if(typeof e.caption=="undefined"){a+="<span>"+e.name+"</span>"}else{a+="<span>"+e.caption+"</span>"}a+='<input type="text" objectkey="'+b+'" name="'+e.name+'" cate="color" path="'+c+'" value="'+d+'"  />';a+="</p>";return a};uinv.FCM.configMgr.model.panel.itemConfigTypeToHtml.position3d=function(d,c,b){var e=uinv.FCM.configMgr;var f=uinv.FCM.configMgr.model.panel;var a="";a+='<div class="row" style="margin:10px auto;">';if(typeof d.caption=="undefined"){a+="<span>"+d.name+"</span>"}else{a+="<span>"+d.caption+"</span>"}a+="<ul>";a+='<li style="list-style:none;"><span><s>'+d.items[0]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position3d" path="'+c+'"  /></li>';a+='<li style="list-style:none;"><span><s>'+d.items[1]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position3d" path="'+c+'"  /></li>';a+='<li style="list-style:none;"><span><s>'+d.items[2]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position3d" path="'+c+'"  /></li>';a+="</ul>";a+="</div>";return a};uinv.FCM.configMgr.model.panel.itemConfigTypeToHtml.position2d=function(d,c,b){var e=uinv.FCM.configMgr;var f=uinv.FCM.configMgr.model.panel;var a="";a+='<div class="row" style="margin:10px auto;">';if(typeof d.caption=="undefined"){a+="<span><s>"+d.name+"</s></span>"}else{a+="<span><s>"+d.caption+"</s></span>"}a+="<ul>";a+='<li style="list-style:none;"><span><s>'+d.items[0]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position2d" path="'+c+'"  /></li>';a+='<li style="list-style:none;"><span><s>'+d.items[1]+'</s></span><input type="text" objectkey="'+b+'" name="'+d.name+'" cate="position2d" path="'+c+'"  /></li>';a+="</ul>";a+="</div>";return a};uinv.FCM.configMgr.model.panel.itemConfigTypeToHtml.select=function(b,h,j){var f=uinv.FCM.configMgr;var e=uinv.FCM.configMgr.model.panel;var g=typeof b.defaultItem=="undefined"?"":b.defaultItem;var d="";d+='<div class="row" style="margin:10px auto;">';if(typeof b.caption=="undefined"){d+="<span>"+b.name+"</span>"}else{d+="<span>"+b.caption+"</span>"}d+='<select class="row_select" objectkey="'+j+'" name="'+b.name+'" cate="select" path="'+h+'">';for(var c=0,a=b.items.length;c<a;c++){if(b.items[c]==g){d+='<option value="'+b.items[c]+'" selected>'+b.items[c]+"</option>"}else{d+='<option value="'+b.items[c]+'">'+b.items[c]+"</option>"}}d+="</select>";d+="</div>";return d};uinv.FCM.configMgr.model.resources.upResourcesDir="/projects/resources";uinv.FCM.configMgr.model.resources.delFileArr=[];uinv.FCM.configMgr.model.resources.resourcesManagerClass="resourcesManager";uinv.FCM.configMgr.model.resources.setData=function(a,c){var b=uinv.FCM.configMgr;var d=this;b.data.resources[a]={serverPath:c.serverPath,localPath:c.localPath,version:c.version}};uinv.FCM.configMgr.model.resources.uploadResourcesFileCallback=function(a){var d=uinv.FCM.configMgr;var e=this;if(a.success){var c=e.getResourcesManagerFormData();if(c.type=="update"){var b=Number(c.version)+1;e.setResourcesManagerFormData("version",b)}e.resourcesManagerHandleCallback()}else{e.note.alert(a.data)}};uinv.FCM.configMgr.model.resources.checkForm=function(c){var b=uinv.FCM.configMgr;var d=this;var a={error:0,msg:[]};if(typeof c.title=="undefined"||c.title===""){a.error=1;a.msg.push(b.msg.S13)}if(typeof c.serverPath=="undefined"||c.serverPath===""){a.error=1;a.msg.push(b.msg.S14)}if(typeof c.version=="undefined"||c.version===""){a.error=1;a.msg.push(b.msg.S15)}if(typeof c.localPath=="undefined"||c.localPath===""){a.error=1;a.msg.push(b.msg.S16)}if(c.type=="create"&&(typeof c.resourcesFile=="undefined"||c.resourcesFile==="")){a.error=1;a.msg.push(b.msg.S17)}return a};uinv.FCM.configMgr.model.resources.resourcesManagerHandleCallback=function(){var b=uinv.FCM.configMgr;var c=this;var a=c.getResourcesManagerFormData();if(typeof b.data.resources[a.originalTitle]!="undefined"){delete b.data.resources[a.originalTitle]}c.setData(a.title,a);c.resourcesManagerClose();c.mkhtml()};uinv.FCM.configMgr.model.resources.handleResourcesManager=function(e){var g=uinv.FCM.configMgr;var h=this;var f=h.getResourcesManagerFormData();var d=h.checkForm(f);if(d.error){g.note.alert(d.msg.join("\r\n"));return false}if(f.resourcesFile!==""){var c=h.pathToFileNameAndFoder(f.serverPath);if((f.type=="create"&&h.serverPathFindObj(f.serverPath))||(f.type=="update"&&h.serverPathFindObj(f.serverPath)&&g.data.resources[f.originalTitle].serverPath!=f.serverPath)){g.note.alert(g.msg.F3(c.filename));return false}var b=true;if(f.type=="create"&&f.title in g.data.resources){b=g.note.confirm(g.msg.F4(f.title));if(b){h.delFileArr.push(g.data.resources[f.title].serverPath)}else{return false}}if(f.type=="create"||(f.type=="update"&&f.serverPath!=g.data.resources[f.originalTitle].serverPath)){var a=uinv.server.manager.frame.isFileExist(f.serverPath);if(a.data){b=g.note.confirm(g.msg.F5(c.filename));if(!b){return}}}if(f.type=="update"&&g.data.resources[f.originalTitle].serverPath!=f.serverPath){h.delFileArr.push(g.data.resources[f.originalTitle].serverPath)}uinv.server.manager.frame.upFile(f.resourcesObj,c.foder,c.filename,function(i){h.uploadResourcesFileCallback(i)})}else{h.resourcesManagerHandleCallback()}};uinv.FCM.configMgr.model.resources.serverPathFindObj=function(b){var c=uinv.FCM.configMgr;var d=this;for(var a in c.data.resources){if(c.data.resources[a].serverPath==b){return c.data.resources[a]}}return null};uinv.FCM.configMgr.model.resources.pathToFileNameAndFoder=function(c){var d=uinv.FCM.configMgr;var e=this;var a={};if(typeof c=="string"){var b=c.split("/");a.filename=b[b.length-1];b.pop();if(b.length>=1){a.foder=b.join("/")+"/"}else{a.foder=""}}else{a.filename="";a.foder=""}return a};uinv.FCM.configMgr.model.resources.resourcesManagerClose=function(){var a=uinv.FCM.configMgr;var b=this;a.model.dialog.close();a.form.saveData()};uinv.FCM.configMgr.model.resources.resourcesManager=function(b){var f=uinv.FCM.configMgr;var g=this;if(b&&typeof f.data.resources[b]=="undefined"){g.note.alert(f.msg.S10);return false}var e=b||"";var c=b?"update":"create";var d=g.keyFindObj(b);var a="";a+='<div class="'+g.resourcesManagerClass+'" style="width:400px; height:200px; padding:10px;">';a+='<p style="margin:10px auto 0;"><span><s>\u8d44\u6e90\u540d\u79f0</s></span><input type="text" original="'+e+'" name="title" value="'+e+'" /></p>';a+='<p style="margin:10px auto 0; display:none;"><span><s>\u670d\u52a1\u5668\u76ee\u5f55</s></span><input type="text" original="'+d.serverPath+'" name="serverPath" value="'+d.serverPath+'" /></p>';a+='<p style="margin:10px auto 0;"><span><s>\u672c\u5730\u76ee\u5f55</s></span><input type="text" name="localPath" value="'+d.localPath+'" /></p>';a+='<p style="margin:10px auto 0;"><span><s>\u7248\u672c</s></span><input type="text" name="version" value="'+d.version+'" readonly /></p>';a+='<p style="margin:10px auto 0;"><span><s>\u8d44\u6e90\u5305</s></span><input type="file" name="resourcesFile" /></p>';a+='<input type="hidden" name="type" value="'+c+'" />';a+='<p class="action">';a+='<input type="button" class="btn_cancel" onclick="uinv.FCM.configMgr.model.dialog.close();" />';a+='<input type="button" class="btn_save" onclick="uinv.FCM.configMgr.model.resources.handleResourcesManager(this);" />';a+="</p>";a+="</div>";f.model.dialog.show(a)};uinv.FCM.configMgr.model.resources.keyFindObj=function(a){var c=uinv.FCM.configMgr;var d=this;var b={};if(typeof a=="undefined"||typeof c.data.resources[a]=="undefined"){b={title:"",serverPath:d.upResourcesDir,localPath:"",version:1}}else{b=c.data.resources[a]}return b};uinv.FCM.configMgr.model.resources.getResourcesManagerFormData=function(){var c=uinv.FCM.configMgr;var d=this;var b=c.model.dialog.getObj().find("."+d.resourcesManagerClass);if(b.find("input[name=resourcesFile]").val()!==""){var a=b.find("input[name=resourcesFile]").val().split("\\");b.find("input[name=serverPath]").val(d.upResourcesDir+"/"+a[a.length-1])}return{title:$.trim(b.find("input[name=title]").val()),originalTitle:b.find("input[name=title]").attr("original"),serverPath:$.trim(b.find("input[name=serverPath]").val()),originalServerPath:b.find("input[name=serverPath]").attr("original"),localPath:$.trim(b.find("input[name=localPath]").val()),resourcesFile:$.trim(b.find("input[name=resourcesFile]").val()),resourcesObj:b.find("input[name=resourcesFile]").get(0),version:$.trim(b.find("input[name=version]").val()),type:b.find("input[name=type]").val()}};uinv.FCM.configMgr.model.resources.setResourcesManagerFormData=function(a,c){var d=uinv.FCM.configMgr;var e=this;var b=d.model.dialog.getObj().find("."+e.resourcesManagerClass);b.find("input[name="+a+"]").val(c)};uinv.FCM.configMgr.model.resources.mkhtml=function(){var c=uinv.FCM.configMgr;var d=this;var b="";for(var a in c.data.resources){b+="<tr>";b+="<td>"+a+"</td>";b+='<td><a href="'+c.global.projectPath+c.data.resources[a].serverPath+'" target="_blank" title="'+u.le.get("\u70b9\u51fb\u4e0b\u8f7d")+'">'+c.data.resources[a].serverPath+"</a></td>";b+="<td>"+c.data.resources[a].localPath+"</td>";b+="<td>"+c.data.resources[a].version+"</td>";b+="<td>";b+="<a onclick=\"uinv.FCM.configMgr.model.resources.delResource('"+a+'\');" href="javascript:void(0);"><s>\u5220\u9664</s></a>';b+="</td>";b+="<td>";b+="<a onclick=\"uinv.FCM.configMgr.model.resources.resourcesManager('"+a+'\');" href="javascript:void(0);"><s>\u66f4\u65b0</s></a>';b+="</td>";b+="</td>"}c.form.box.find(d.classStr).find("tr:gt(0)").remove();c.form.box.find(d.classStr).append(b);c.translate()};uinv.FCM.configMgr.model.resources.delResource=function(b){var c=uinv.FCM.configMgr;var d=this;var a=c.note.confirm(c.msg.S18);if(!a){return false}if(typeof c.data.resources[b]!="undefined"){uinv.server.manager.frame.delFile(c.data.resources[b].serverPath);delete c.data.resources[b]}d.mkhtml();c.form.saveData()};uinv.FCM.configMgr.model.resources.backupFiles=function(){var c=uinv.FCM.configMgr;var d=this;var b=[];for(var a in c.data.resources){b.push(c.data.resources[a].serverPath)}return b};uinv.FCM.configMgr.model.resources.init=function(a){var b=uinv.FCM.configMgr;var c=this;b.form.submitCallback=function(){while(c.delFileArr.length>=1){var d=c.delFileArr.pop();uinv.server.manager.frame.delFile(d)}};c.classStr=a||".resources-list";c.mkhtml()};uinv.FCM.configMgr.model.selector.publicSelectNodeSubmitCallback=null;uinv.FCM.configMgr.model.selector.classStr="";uinv.FCM.configMgr.model.selector.obj=null;uinv.FCM.configMgr.model.selector.index="selector";uinv.FCM.configMgr.model.selector.selectKey="";uinv.FCM.configMgr.model.selector.show=function(a){var c=uinv.FCM.configMgr;var d=this;d.publicSelectNodeSubmitCallback=a;var b="";b+='<div class="selector" style="width:500px;height:300px;">';b+='<div class="tree" style="height:250px;width:100%;border:1px solid #EEE;overflow-y:auto;">';b+=d.publicShowHtml(d.obj.tree);b+="</div>";b+='<div class="action">';b+='<input class="btn_cancel" onclick="uinv.FCM.configMgr.model.dialog.close();" />';b+='<input class="btn_save" onclick="uinv.FCM.configMgr.model.selector.publicSelectNodeSubmit();" />';b+="</div>";b+="</div>";c.model.dialog.show(b)};uinv.FCM.configMgr.model.selector.hide=function(){var a=uinv.FCM.configMgr;var b=this;a.model.dialog.close()};uinv.FCM.configMgr.model.selector.publicSelectNodeSubmit=function(){var d=uinv.FCM.configMgr;var e=this;var a=d.model.dialog.getObj().find(".tree").find(".ok");if(a.length==1){var b=a.attr("key");if(b&&b in e.obj.lib){if(typeof e.publicSelectNodeSubmitCallback=="function"){var c={name:e.obj.lib[b].name,where:{}};c.where[e.obj.lib[b].where]=e.obj.lib[b].formDataRemember[e.obj.lib[b].where];e.publicSelectNodeSubmitCallback(d.model.object.clone(c))}}else{d.note.alert(d.msg.S19)}}else{d.note.alert(d.msg.S20)}};uinv.FCM.configMgr.model.selector.publicSelectNode=function(b,a){var c=uinv.FCM.configMgr;var d=this;c.model.dialog.getObj().find(".tree").find(".ok").removeClass("ok");if(d.objIsExistWhere(a)){$(b).parents(".treeNode:eq(0)").addClass("ok")}else{c.note.alert(c.msg.S21)}};uinv.FCM.configMgr.model.selector.publicShowHtml=function(d){var e=uinv.FCM.configMgr;var f=this;if(typeof d=="undefined"){return""}var c="";for(var b=0,a=d.length;b<a;b++){if(f.objIsExistWhere(d[b].key)){c+='<div class="treeNode where" key="'+d[b].key+'">';c+="<span onclick=\"uinv.FCM.configMgr.model.selector.publicSelectNode(this,'"+d[b].key+"');\">"+f.obj.lib[d[b].key].name+"</span>"}else{c+='<div class="treeNode">';c+="<span>"+f.obj.lib[d[b].key].name+"</span>"}if(typeof d[b].childrenNode=="object"){c+='<div class="childrenNode">';c+=f.publicShowHtml(d[b].childrenNode);c+="</div>"}c+="</div>"}return c};uinv.FCM.configMgr.model.selector.cancelAddNodeWhere=function(a){var b=uinv.FCM.configMgr;var c=this;b.model.dialog.close();if(typeof a=="function"){a.apply(c)}};uinv.FCM.configMgr.model.selector.getAllClassID=function(){return uinv.factory.getAllClass()};uinv.FCM.configMgr.model.selector.getOneClassID=function(c){var d=uinv.FCM.configMgr;var e=this;var b=e.getAllClassID();for(var a in b){if(b[a].classId==c){return b[a]}}};uinv.FCM.configMgr.model.selector.nodeRename=function(b){var c=uinv.FCM.configMgr;var d=this;var a='<input type="text" value="'+d.obj.lib[b].name+'" />';d.keyFindNodeHtmlObj(b).find(">span").html(a).find("input").focus().blur(function(){d.obj.lib[b].name=$(this).val();$(this).parent().html(d.obj.lib[b].name)}).keydown(function(f){var g=f||window.event;if(g.keyCode==13){d.obj.lib[b].name=$(this).val();$(this).parent().html(d.obj.lib[b].name)}})};uinv.FCM.configMgr.model.selector.keyFindNodeHtmlObj=function(a){var b=uinv.FCM.configMgr;var c=this;if(a===""){return b.form.box.find(c.classStr)}else{return b.form.box.find(c.classStr).find("*[key="+a+"]")}};uinv.FCM.configMgr.model.selector.deleteNode=function(b){var d=uinv.FCM.configMgr;var e=this;var a=d.note.confirm(d.msg.S23);if(a){var c=e.keyFindTreeNodeObj(e.obj.tree,b);c.parent.splice(c.index,1);delete e.obj.lib[b];e.keyFindNodeHtmlObj(b).remove()}};uinv.FCM.configMgr.model.selector.createNode=function(a){var d=uinv.FCM.configMgr;var e=this;var b="";e.selectKey=a||"";if(typeof e.obj.lib=="undefined"){e.obj.lib={}}if(typeof e.obj.tree=="undefined"){e.obj.tree=[]}do{b=d.model.key.create()}while(b in e.obj.lib);var c={name:"\u65b0\u8282\u70b9",key:b};e.insertNodeToTreeObj(c,a);e.insertNodeToTreeDom(c,a)};uinv.FCM.configMgr.model.selector.insertNodeToTreeObj=function(b,a){var e=uinv.FCM.configMgr,f=this,c={};if(a){var d=f.keyFindTreeNodeObj(f.obj.tree,a).obj;if(typeof d.childrenNode=="undefined"){d.childrenNode=[]}c=d.childrenNode}else{c=f.obj.tree}c.push({key:b.key});f.obj.lib[b.key]={name:b.name}};uinv.FCM.configMgr.model.selector.insertNodeToTreeDom=function(c,a){var d=uinv.FCM.configMgr;var e=this;var b="";b+='<div  key="'+c.key+'" class="treeNode" style="padding-left:20px;">';b+="<span onclick=\"uinv.FCM.configMgr.model.selector.selectNode('"+c.key+'\',event);"  oncontextmenu="uinv.FCM.configMgr.model.selector.contextMenu(event,this);">'+c.name+"</span>";b+='<div class="childrenNode"></div>';b+="</div>";e.keyFindNodeHtmlObj(e.selectKey).find(">.childrenNode").append(b)};uinv.FCM.configMgr.model.selector.keyFindTreeNodeObj=function(e,d){var f=uinv.FCM.configMgr;var g=this;for(var c=0,b=e.length;c<b;c++){if(e[c].key==d){return{obj:e[c],parent:e,index:c}}if(typeof e[c].childrenNode=="object"){var a=g.keyFindTreeNodeObj(e[c].childrenNode,d);if(a){return a}}}return false};uinv.FCM.configMgr.model.selector.recursionTreeHtml=function(d){var e=uinv.FCM.configMgr;var f=this;var c="";for(var b=0,a=d.length;b<a;b++){if(f.objIsExistWhere(d[b].key)){c+='<div class="treeNode where" style="padding-left:20px;"  key="'+d[b].key+'">'}else{c+='<div class="treeNode" style="padding-left:20px;"  key="'+d[b].key+'">'}c+="<span onclick=\"uinv.FCM.configMgr.model.selector.selectNode('"+d[b].key+'\',event);" oncontextmenu="uinv.FCM.configMgr.model.selector.contextMenu(event,this);">'+f.obj.lib[d[b].key].name+"</span>";c+='<div class="childrenNode">';if(typeof d[b].childrenNode=="object"){c+=f.recursionTreeHtml(d[b].childrenNode)}c+="</div>";c+="</div>"}return c};uinv.FCM.configMgr.model.selector.treeHtml=function(){var b=uinv.FCM.configMgr;var c=this;var a="";a+='<div class="childrenNode">';if(typeof c.obj.tree=="object"){a+=c.recursionTreeHtml(c.obj.tree)}a+="</div>";return a};uinv.FCM.configMgr.model.selector.addNodeWhereFormSubmit=function(a){var b=uinv.FCM.configMgr;var c=this;c.obj.lib[a].where=b.model.dialog.getObj().find("input[type=radio][name=wheretype]:checked").val();b.model.dialog.getObj().find("input[type=radio][name=wheretype]").each(function(){if(typeof c.whereTypeSetObj[$(this).val()]=="function"){c.whereTypeSetObj[$(this).val()](this,a)}});c.keyFindNodeHtmlObj(a).addClass("where");c.cancelAddNodeWhere()};uinv.FCM.configMgr.model.selector.objIsExistWhere=function(a){var b=uinv.FCM.configMgr;var c=this;if(typeof c.obj.lib[a].where=="undefined"){return false}return true};uinv.FCM.configMgr.model.selector.addNodeWhereFormInit=function(a){var b=uinv.FCM.configMgr;var c=this;if(c.objIsExistWhere(a)){b.model.dialog.getObj().find("input[type=radio][name=wheretype][value="+c.obj.lib[a].where+"]").attr("checked",true)}};uinv.FCM.configMgr.model.selector.formDataRememberInit=function(a){var b=uinv.FCM.configMgr;var c=this;c.obj.lib[a].formDataRemember={classid:0,name:"",attribute:[{key:"",value:""}],fun:""}};uinv.FCM.configMgr.model.selector.delNodeWhere=function(a){var b=uinv.FCM.configMgr;var c=this;if(a||a in c.obj.lib){delete c.obj.lib[a].where;c.keyFindNodeHtmlObj(a).removeClass("where")}};uinv.FCM.configMgr.model.selector.editNodeWhere=function(c){var e=uinv.FCM.configMgr;var f=this;var d=f.getAllClassID();if(!c||!(c in f.obj.lib)){return false}if(c in f.obj.lib&&typeof f.obj.lib[c].formDataRemember=="undefined"){f.formDataRememberInit(c)}var b="";b+='<div class="addnodewhere">';b+='<div class="row">';b+="<span>";b+='<input type="radio" name="wheretype" value="classid" checked /> ';b+="<s>classid</s>";b+="</span>";b+='<select class="classidselect" name="classid">';for(var a in d){if(f.obj.lib[c].formDataRemember.classid==d[a].classId){b+='<option value="'+d[a].classId+'" selected>'+d[a].caption+"</option>"}else{b+='<option value="'+d[a].classId+'">'+d[a].caption+"</option>"}}b+="</select>";b+="</div>";b+='<div class="row">';b+="<span>";b+='<input type="radio" name="wheretype" value="name" /> ';b+="<s>\u7269\u4f53\u540d\u79f0</s>";b+="</span>";b+='<input type="text" name="name" value="'+f.obj.lib[c].formDataRemember.name+'" />';b+="</div>";b+='<div class="row">';b+="<span>";b+='<input type="radio" name="wheretype" value="attribute" /> ';b+="<s>\u5c5e\u6027\u5b9a\u4e49</s>";b+="</span>";b+='<div class="row" style="clear:both;">';b+='<span><s>\u5c5e\u6027\u540d</s></span><input type="text" name="key" value="'+f.obj.lib[c].formDataRemember.attribute[0].key+'" /> ';b+="</div>";b+='<div class="row">';b+='<span><s>\u5c5e\u6027\u503c</s></span><input type="text" name="value" value="'+f.obj.lib[c].formDataRemember.attribute[0].value+'" />';b+="</div>";b+="</div>";b+='<div class="row">';b+="<span>";b+='<input type="radio" name="wheretype" value="fun" /> ';b+="<s>\u51fd\u6570</s>";b+="</span>";b+='<textarea name="fun">'+f.obj.lib[c].formDataRemember.fun+"</textarea>";b+="</div>";b+='<div class="btn">';b+='<input class="btn_save" onclick="uinv.FCM.configMgr.model.selector.addNodeWhereFormSubmit(\''+c+"');\" />";b+='<input class="btn_cancel" onclick="uinv.FCM.configMgr.model.selector.cancelAddNodeWhere();"  />';b+="</div>";b+="</div>";e.model.dialog.show(b);f.addNodeWhereFormInit(c)};uinv.FCM.configMgr.model.selector.contextMenu=function(a,d){var f=uinv.FCM.configMgr;var h=this;var g=d;var c=a||window.event;if(c.preventDefault){c.preventDefault()}if(c.stopPropagation){c.stopPropagation()}else{c.returnValue=false;c.cancelBubble=true}f.form.box.find(h.classStr).find(".ok").removeClass("ok");var b="";if($(g).parent().attr("key")){b=$(g).parent().attr("key");h.selectNode(b,c)}h.contextMenuShow(c,b);return false};uinv.FCM.configMgr.model.selector.treeNodeShow=function(a){var b=uinv.FCM.configMgr;var c=this;c.keyFindNodeHtmlObj(a).removeClass("childrenNodeHide").find(">.childrenNode").show()};uinv.FCM.configMgr.model.selector.treeNodeHide=function(a){var b=uinv.FCM.configMgr;var c=this;c.keyFindNodeHtmlObj(a).addClass("childrenNodeHide").find(">.childrenNode").hide()};uinv.FCM.configMgr.model.selector.contextMenuRouting=function(fun,key){var _obj=uinv.FCM.configMgr;var _this=this;_this.contextMenuHide();eval("_this."+fun+"('"+key+"');")};uinv.FCM.configMgr.model.selector.getContextMenuHtml=function(c,b){var d=uinv.FCM.configMgr;var g=this;var f={x:c.clientX-d.form.box.offset().left,y:c.clientY-d.form.box.offset().top};var a="";a+='<div class="config-contextmenu" style="background:#E6E6FA;width:100px;position:absolute;z-index:9999;left:'+f.x+"px;top:"+f.y+'px;">';if(b&&b in g.obj.lib){if(g.keyFindNodeHtmlObj(b).find(">.childrenNode>.treeNode").length>=1){if(g.keyFindNodeHtmlObj(b).find(">.childrenNode").is(":visible")){a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('treeNodeHide','"+b+"');\"><s>\u6536\u8d77</s></li>"}else{a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('treeNodeShow','"+b+"');\"><s>\u5c55\u5f00</s></li>"}}a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('createNode','"+b+"');\"><s>\u521b\u5efa\u8282\u70b9</s></li>";a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('deleteNode','"+b+"');\"><s>\u5220\u9664\u8282\u70b9</s></li>";a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('nodeRename','"+b+"');\"><s>\u91cd\u65b0\u547d\u540d</s></li>";if(g.objIsExistWhere(b)){a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('editNodeWhere','"+b+"');\"><s>\u4fee\u6539\u6761\u4ef6</s></li>";a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('delNodeWhere','"+b+"');\"><s>\u5220\u9664\u6761\u4ef6</s></li>"}else{a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('editNodeWhere','"+b+"');\"><s>\u6dfb\u52a0\u6761\u4ef6</s></li>"}}else{a+="<li style=\"list-style:none;\" onclick=\"uinv.FCM.configMgr.model.selector.contextMenuRouting('createNode','"+b+"');\"><s>\u521b\u5efa\u8282\u70b9</s></li>"}a+="</div>";return a};uinv.FCM.configMgr.model.selector.contextMenuShow=function(c,b){var d=uinv.FCM.configMgr;var f=this;f.contextMenuHide();var a=f.getContextMenuHtml(c,b);d.form.box.append(a);d.translate()};uinv.FCM.configMgr.model.selector.contextMenuHide=function(){var a=uinv.FCM.configMgr;var b=this;a.form.box.find(".config-contextmenu").remove()};uinv.FCM.configMgr.model.selector.selectNode=function(b,a){var d=uinv.FCM.configMgr;var f=this;var c=a||window.event;if(c.preventDefault){c.preventDefault()}if(c.stopPropagation){c.stopPropagation()}else{c.cancelBubble=true}f.contextMenuHide();f.cancelSelectNode();f.selectKey=b;f.keyFindNodeHtmlObj(b).addClass("ok")};uinv.FCM.configMgr.model.selector.cancelSelectNode=function(){var a=uinv.FCM.configMgr;var b=this;b.selectKey="";a.form.box.find(b.classStr).find(".ok").removeClass("ok")};uinv.FCM.configMgr.model.selector.init=function(a){var b=uinv.FCM.configMgr;var c=this;b.form.submitCallback=function(){b.model.stringDB.set(c.index,c.obj,function(){})};c.obj=b.model.stringDB.get(c.index);c.classStr=a;b.form.box.find(c.classStr).html(c.treeHtml());b.form.box.find(c.classStr).click(function(){c.cancelSelectNode();c.contextMenuHide()});$(".config-info").html(b.msg.S22)};uinv.FCM.configMgr.model.selector.whereTypeSetObj.classid=function(b,a){var c=uinv.FCM.configMgr;var d=c.model.selector;d.obj.lib[a].formDataRemember.classid=Number($(b).parents(".row").find("select[name=classid]").val())};uinv.FCM.configMgr.model.selector.whereTypeSetObj.name=function(b,a){var c=uinv.FCM.configMgr;var d=c.model.selector;d.obj.lib[a].formDataRemember.name=$(b).parents(".row").find("input[name=name]").val()};uinv.FCM.configMgr.model.selector.whereTypeSetObj.attribute=function(b,a){var c=uinv.FCM.configMgr;var d=c.model.selector;d.obj.lib[a].formDataRemember.attribute=[{key:$(b).parents(".row").find("input[name=key]").val(),value:$(b).parents(".row").find("input[name=value]").val()}]};uinv.FCM.configMgr.model.selector.whereTypeSetObj.fun=function(b,a){var c=uinv.FCM.configMgr;var d=c.model.selector;d.obj.lib[a].formDataRemember.fun=$(b).parents(".row").find("textarea[name=fun]").val()};uinv.FCM.configMgr.model.statistics.classStr="";uinv.FCM.configMgr.model.statistics.where=["<",">","="];uinv.FCM.configMgr.model.statistics.nameDisplay={availableU:u.le.get("\u7a7a\u95f4"),load:u.le.get("\u627f\u91cd"),power:u.le.get("\u529f\u8017")};uinv.FCM.configMgr.model.statistics.defaultColor="#FFFFFF";uinv.FCM.configMgr.model.statistics.delRow=function(a){var b=uinv.FCM.configMgr;var c=this;$(a).parents("tr").remove()};uinv.FCM.configMgr.model.statistics.addRow=function(c){var e=uinv.FCM.configMgr;var f=this;var b={number:"",color:"#FFF",where:f.where[0]};var a=f.mkhtmlTr(b);$(c).parents(".list").find("table").append(a);var d=$(c).parents(".list").find("table").find("tr:last").find("input[key=color]").get(0);e.model.colorpicke.show(d)};uinv.FCM.configMgr.model.statistics.mkhtmlTr=function(d){var e=uinv.FCM.configMgr;var f=this;if(typeof d!="object"){d={}}d.where=typeof d.where=="undefined"?f.where[0]:d.where;d.color=typeof d.color=="undefined"?f.defaultColor:d.color;d.number=typeof d.number=="undefined"?"":d.number;var c="";c+='<tr style="height:50px;" class="item">';c+="<td>";c+='<select key="where">';for(var b=0,a=f.where.length;b<a;b++){if(d.where==f.where[b]){c+='<option value="'+f.where[b]+'" selected>'+f.where[b]+"</option>"}else{c+='<option value="'+f.where[b]+'">'+f.where[b]+"</option>"}}c+="</select>";c+="</td>";c+="<td>";c+='<input class="config-input-text config-input-percentage" type="text" key="number" value="'+d.number+'" /><span class="config-unit">%</span>';c+="</td>";c+="<td>";c+='<input type="text" key="color" value="'+d.color+'" />';c+="</td>";c+="<td>";c+='<button onclick="uinv.FCM.configMgr.model.statistics.delRow(this);"><s>\u5220\u9664</s></button>';c+="</td>";c+="</tr>";return c};uinv.FCM.configMgr.model.statistics.mkhtml=function(){var d=uinv.FCM.configMgr;var e=this;var a=[];for(var c in d.data.statistics){var b="";b+='<div class="list">';b+='<div class="header">'+e.nameDisplay[c]+"</div>";b+='<table style="width:100%;text-align:center;" path="statistics" name="'+c+'" cate="statistics">';b+="<tr>";b+="<th><s>\u6761\u4ef6</s></th>";b+="<th><s>\u6570\u503c</s></th>";b+="<th><s>\u989c\u8272</s></th>";b+="<th><s>\u5220\u9664</s></th>";b+="</tr>";b+="</table>";b+='<div class="action" style="text-align:right;">';b+='<input type="button" class="btn_add" onclick="uinv.FCM.configMgr.model.statistics.addRow(this);" />';b+="</div>";b+="</div>";a.push(b)}d.form.box.find(e.classStr).html(a.join(d.global.line1));d.translate()};uinv.FCM.configMgr.model.statistics.init=function(a){var b=uinv.FCM.configMgr;var c=this;c.classStr=a;c.mkhtml()};uinv.FCM.configMgr.model.stringDB.readString=function(){return uinv.server.manager.frame.getString()};uinv.FCM.configMgr.model.stringDB.writeString=function(c,a){var b=uinv.FCM.configMgr;var d=this;uinv.server.manager.frame.saveString(c,false,function(e){if(e.success){if(typeof a=="function"){a.apply(d)}}else{b.note.alert(e.data)}})};uinv.FCM.configMgr.model.stringDB.get=function(b){var f=uinv.FCM.configMgr;var g=this;var a=g.readString();if(a.success){try{var d=f.model.transform.str2obj(a.data);if(typeof(d[b])=="undefined"){return{}}else{return d[b]}}catch(c){return{}}}else{f.note.alert("stringDB.get() : "+a.data);return{}}};uinv.FCM.configMgr.model.stringDB.set=function(d,e,b){var g=uinv.FCM.configMgr;var h=this;if(typeof e=="undefined"){return false}var a=h.readString();var c={};if(a.success){if(a.data){c=g.model.transform.str2obj(a.data)}c[d]=e;var f=g.model.transform.obj2str(c);if(typeof f=="string"&&f!==""){h.writeString(f,b)}else{g.note.alert(g.msg.S26)}}else{g.note.alert(a.data)}};uinv.FCM.configMgr.model.transform.obj2str=function(d){var c=uinv.FCM.configMgr;var e=this;var a=null;if(typeof d=="undefined"){return'""'}var b=[];if(typeof d=="string"){return'"'+d.replace(/([\'\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"'}if(typeof d=="object"){if(!d.sort){for(a in d){b.push('"'+a+'":'+e.obj2str(d[a]))}if(!!document.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(d.toString)){b.push("toString:"+d.toString.toString())}b="{"+b.join()+"}"}else{for(a=0,k=d.length;a<k;a++){b.push(e.obj2str(d[a]))}b="["+b.join()+"]"}return b}return d.toString()};uinv.FCM.configMgr.model.transform.str2obj=function(s){var _obj=uinv.FCM.configMgr;var _this=this;if(typeof s=="string"){s=s.replaceAll("\r\n","");s=s.replaceAll("\n","");s=s.replaceAll("\t","");try{return eval("(function(){ return  "+s+" })();")}catch(e){return false}}else{return false}};uinv.FCM.configMgr.model.viewpoint.classStr="";uinv.FCM.configMgr.model.viewpoint.createObject=function(){var a=uinv.FCM.configMgr;var b=this;a.model.selector.show(function(c){a.model.selector.cancelAddNodeWhere();var d=b.addObjectToMemory(c);b.addHtmlRow(d)})};uinv.FCM.configMgr.model.viewpoint.keyFindObj=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.viewpoint.length;b<a;b++){if(d.data.viewpoint[b].key==c){return d.data.viewpoint[b]}}return false};uinv.FCM.configMgr.model.viewpoint.keyFindIndex=function(c){var d=uinv.FCM.configMgr;var e=this;for(var b=0,a=d.data.viewpoint.length;b<a;b++){if(d.data.viewpoint[b].key==c){return b}}return -1};uinv.FCM.configMgr.model.viewpoint.createKey=function(){var b=uinv.FCM.configMgr;var c=this;var a="";do{a=b.model.key.create(32)}while(c.keyFindObj(a));return a};uinv.FCM.configMgr.model.viewpoint.addObjectToMemory=function(a){var c=uinv.FCM.configMgr;var d=this;var b={name:a.name,where:a.where,key:d.createKey(),data:{x:0,y:0,z:0}};c.data.viewpoint.push(b);return b};uinv.FCM.configMgr.model.viewpoint.addHtmlRow=function(a){var b=uinv.FCM.configMgr;var c=this;b.form.box.find(c.classStr).append(c.mkhtmlRow(a));b.translate()};uinv.FCM.configMgr.model.viewpoint.mkhtmlRow=function(c){var d=uinv.FCM.configMgr;var e=this;var b="";b+='<tr class="row" key="'+c.key+'">';b+="<td>";b+="<h3><span onclick=\"uinv.FCM.configMgr.model.viewpoint.objectRename(this,'"+c.key+'\');" class="name">'+c.name+"</span></h3>";b+="</td>";for(var a in c.data){b+='<td><input class="w50" type="text" key="'+a+'" name="'+c.key+'" cate="viewpoint" path="viewpoint" /></td>'}b+="<td><a onclick=\"uinv.FCM.configMgr.model.viewpoint.objectDelete(this,'"+c.key+'\');" href="javascript:void(0);"><s>\u5220\u9664</s></a></td>';b+="</tr>";return b};uinv.FCM.configMgr.model.viewpoint.mkhtml=function(){var d=uinv.FCM.configMgr;var e=this;var c="";for(var b=0,a=d.data.viewpoint.length;b<a;b++){c+=e.mkhtmlRow(d.data.viewpoint[b])}d.form.box.find(e.classStr).find("tr:gt(0)").remove();d.form.box.find(e.classStr).append(c);d.translate()};uinv.FCM.configMgr.model.viewpoint.objectRename=function(c,b){var e=uinv.FCM.configMgr;var f=this;var d=$(c).parent();var a=d.html();d.html('<input type="text" value="'+$(c).html()+'" />');d.find("input").focus().blur(function(){f.keyFindObj(b).name=$(this).val();d.html(a);d.find("span").html($(this).val())}).keydown(function(g){var h=g||window.event;if(h.keyCode==13){f.keyFindObj(b).name=$(this).val();d.html(a);d.find("span").html($(this).val())}})};uinv.FCM.configMgr.model.viewpoint.objectDelete=function(d,c){var e=uinv.FCM.configMgr;var f=this;var a=e.note.confirm(e.msg.S24);if(a){var b=f.keyFindIndex(c);e.data.viewpoint.splice(b,1);$(d).parents("*[key="+c+"]").remove()}};uinv.FCM.configMgr.model.viewpoint.init=function(a){var b=uinv.FCM.configMgr;var c=this;c.classStr=a||"";c.mkhtml()};uinv.FCM.configMgr.msg.S1="\u4e0b\u8f7d\u914d\u7f6e";uinv.FCM.configMgr.msg.S2="\u6b63\u5728\u6253\u5305...";uinv.FCM.configMgr.msg.S3="\u9519\u8bef(S3)\uff1a\u60a8\u4e0a\u4f20\u7684\u5907\u4efd\u6587\u4ef6\u6709\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20\u6b63\u786e\u5907\u4efd\u7684zip\u538b\u7f29\u5305\u6587\u4ef6\uff01";uinv.FCM.configMgr.msg.S4="\u9519\u8bef(S4)\uff1a\u60a8\u4e0a\u4f20\u7684\u5907\u4efd\u914d\u7f6e\u4fe1\u606f\u6570\u636e\u683c\u5f0f\u9519\u8bef\uff0c\u4e0d\u80fd\u6267\u884c\u6062\u590d\u64cd\u4f5c\uff01";uinv.FCM.configMgr.msg.S5="\u8b66\u544a(S5)\uff1a\u5220\u9664\u540e\u4e0d\u53ef\u4ee5\u6062\u590d\uff0c\u786e\u8ba4\u5220\u9664\u6b64\u56fe\u7247\uff1f";uinv.FCM.configMgr.msg.S6="\u9519\u8bef(S6)\uff1a\u540c\u6837\u6761\u4ef6\u7684\u7269\u4f53\u5df2\u5b58\u5728\uff0c\u4e0d\u80fd\u91cd\u590d\u521b\u5efa\u91cd\u590d\u6761\u4ef6\u7684\u7269\u4f53\uff01";uinv.FCM.configMgr.msg.S7="\u9519\u8bef(S7)\uff1a\u8bf7\u6307\u5b9a\u8981\u64cd\u4f5c\u7684\u7269\u4f53\uff01";uinv.FCM.configMgr.msg.S8="\u8b66\u544a(S8)\uff1a\u6b64\u64cd\u4f5c\u5c06\u4f1a\u628a\u6240\u6709\u7269\u4f53\u4e0b\u540c\u540d\u9879\u4e00\u5e76\u5220\u9664\uff0c\u7ee7\u7eed\u5220\u9664\u5417\uff1f";uinv.FCM.configMgr.msg.S9="\u9519\u8bef(S9)\uff1a\u6b64\u9879\u4e0d\u53ef\u7f16\u8f91\u914d\u7f6e\uff01";uinv.FCM.configMgr.msg.S10="\u9519\u8bef(S10)\uff1a\u7269\u4f53\u4e0d\u5b58\u5728\uff01";uinv.FCM.configMgr.msg.S11="\u9519\u8bef(S11)\uff1a\u6570\u636e\u683c\u5f0f\u9a8c\u8bc1\u4e0d\u901a\u8fc7\uff01";uinv.FCM.configMgr.msg.S12="\u9519\u8bef(S12)\uff1a\u4e0d\u80fd\u514b\u9686\u5bf9\u8c61\uff01";uinv.FCM.configMgr.msg.S13="\u9519\u8bef(S13)\uff1a\u8d44\u6e90\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\uff01";uinv.FCM.configMgr.msg.S14="\u9519\u8bef(S14)\uff1a\u670d\u52a1\u5668\u8def\u5f84\u4e0d\u80fd\u4e3a\u7a7a\uff01";uinv.FCM.configMgr.msg.S15="\u9519\u8bef(S15)\uff1a\u7248\u672c\u53f7\u4e0d\u80fd\u4e3a\u7a7a\uff01";uinv.FCM.configMgr.msg.S16="\u9519\u8bef(S16)\uff1a\u672c\u5730\u8def\u5f84\u4e0d\u80fd\u4e3a\u7a7a \uff01";uinv.FCM.configMgr.msg.S17="\u9519\u8bef(S17)\uff1a\u8d44\u6e90\u5305\u4e0d\u80fd\u4e3a\u7a7a\uff01";uinv.FCM.configMgr.msg.S18="\u8b66\u544a(S18)\uff1a\u5220\u9664\u8d44\u6e90\u5305\u4e0d\u53ef\u6062\u590d\uff0c\u786e\u8ba4\u5220\u9664\u5417\uff1f";uinv.FCM.configMgr.msg.S19="\u9519\u8bef(S19)\uff1a\u7cfb\u7edf\u5f02\u5e38\uff01";uinv.FCM.configMgr.msg.S20="\u9519\u8bef(S20)\uff1a\u8bf7\u9009\u62e9\u8282\u70b9\uff01";uinv.FCM.configMgr.msg.S21="\u9519\u8bef(S21)\uff1a\u672a\u6dfb\u52a0\u6761\u4ef6\u7684\u8282\u70b9\u4e0d\u80fd\u9009\u62e9\uff01";uinv.FCM.configMgr.msg.S22="\u8282\u70b9\u5b57\u4f53\u52a0\u7c97\u8868\u793a\u5df2\u6dfb\u52a0\u6761\u4ef6";uinv.FCM.configMgr.msg.S23="\u8b66\u544a(S23)\uff1a\u6b64\u64cd\u4f5c\u5c06\u4f1a\u5c06\u8282\u70b9\u53ca\u5b83\u7684\u5b50\u8282\u70b9\u5f7b\u5e95\u5220\u9664\uff0c\u786e\u8ba4\u5220\u9664\u5417\uff1f";uinv.FCM.configMgr.msg.S24="\u8b66\u544a(S24)\uff1a\u6b64\u64cd\u4f5c\u5c06\u4f1a\u5c06\u4f1a\u5220\u9664\u6b64\u7269\u4f53\u53ca\u7269\u4f53\u7684\u89c6\u89d2\u914d\u7f6e\u4fe1\u606f\uff0c\u786e\u8ba4\u5220\u9664\u5417\uff1f";uinv.FCM.configMgr.msg.S25="\u9519\u8bef(S25)\uff1aForm\u6570\u636e\u5b9a\u4e49\u5360\u7528\u7cfb\u7edf\u5173\u952e\u5b57\uff01";uinv.FCM.configMgr.msg.S26="\u9519\u8bef(S26)\uff1a\u526f\u6570\u636e\u8f6c\u6362string\u5f02\u5e38\uff01";uinv.FCM.configMgr.msg.F1=function(a){return"\u8b66\u544a(F1)\uff1a\u6062\u590d\u64cd\u4f5c\u5c06\u4f1a\u628a\u4e0a\u4f20\u7684\u914d\u7f6e\u4fe1\u606f\u8986\u76d6\u5f53\u524d\u7cfb\u7edf\u7684\u914d\u7f6e\u4fe1\u606f\u4e0d\u53ef\u6062\u590d\r\n\u786e\u8ba4\u7ee7\u7eed"+a+"\u914d\u7f6e\u6062\u590d\u64cd\u4f5c\uff1f"};uinv.FCM.configMgr.msg.F2=function(a){return"\u8b66\u544a(F2)\uff1a"+a+"\u56fe\u7247\u5df2\u5b58\u5728\uff0c\u662f\u5426\u8981\u8986\u76d6\u65e7\u7684\u56fe\u7247\uff1f"};uinv.FCM.configMgr.msg.F3=function(a){return"\u9519\u8bef(F3)\uff1a"+a+"\u8d44\u6e90\u5df2\u5b58\u5728\uff01"};uinv.FCM.configMgr.msg.F4=function(a){return"\u8b66\u544a(F4)\uff1a"+a+"\u8d44\u6e90\u5df2\u5b58\u5728\uff0c\u8981\u8986\u76d6\u65e7\u7684\u8d44\u6e90\u9879\u5417\uff1f"};uinv.FCM.configMgr.msg.F5=function(a){return"\u8b66\u544a(F5)\uff1a\u540c\u540d\u8d44\u6e90\u5305 "+a+" \u5df2\u5b58\u5728\u670d\u52a1\u5668\uff0c\u8981\u8986\u76d6\u65e7\u7684\u8d44\u6e90\u5305\u5417\uff1f"};uinv.FCM.configMgr.note.alert=function(a){alert(u.le.get(a))};uinv.FCM.configMgr.note.confirm=function(a){return confirm(u.le.get(a))};uinv.FCM.configMgr.note.dialog=function(b){var a="";a+='<div class="dialog-note">';a+="<div><s>"+b+"</s></div>";a+='<div class="action"><button class="button-btn" onclick="uinv.FCM.configMgr.model.dialog.close();"><s>\u786e\u5b9a</s></button></div>';a+="</div>";uinv.FCM.configMgr.model.dialog.show(a)};uinv.FCM.configMgr.other.conditionReplaceName=function(d){var c=uinv.FCM.configMgr;var f=this;for(var b in d){switch(b){case"classid":d.REGTYPE_CLASSID=d[b];delete d[b];break;case"name":d.REGTYPE_OBJECT=d[b];delete d[b];break;case"attribute":d.REGTYPE_ATTRIBUTE={};for(var e=0,a=d[b].length;e<a;e++){d.REGTYPE_ATTRIBUTE[d[b][e].key]=d[b][e].value}delete d[b];break;case"fun":d.REGTYPE_FUNCTION=d[b];delete d[b];break}}return d};uinv.FCM.configMgr.translate=function(){$("s").each(function(){if($(this).html!==""){$(this).replaceWith(u.le.get($(this).html()))}})};
