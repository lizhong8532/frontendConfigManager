<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		
		<!-- 引入QUnit -->
		<link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.12.0.css" />
		<script type="text/javascript" src="http://code.jquery.com/qunit/qunit-1.12.0.js"></script>
		<!-- 引入QUnit END -->
		
		<!-- 测试头部定义条件  -->
		<script type="text/javascript" src="../../namespace.js"></script>
		<script type="text/javascript" src="../../src/namespace.js"></script>
		<!-- 测试头部定义条件 END  -->
		
	</head>
	<body>
		<h1 id="qunit-header">frontendConfigManager单元测试</h1>
		<h2 id="qunit-banner"></h2>	
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>		
	</body>
</html>


<script type="text/javascript" src="../../src/model/transform.js"></script>

<script type="text/javascript">


module("transform模块");

test("obj2str()", function(){
	var o1,o2;
	
	o1 = { name:"lizhong" };
	equal( uinv.FCM.configMgr.model.transform.obj2str(o1), '{"name":"lizhong"}' , "转换成字符串"  );
	
	o1 = { z:"3",name:"lizhong" };
	equal( uinv.FCM.configMgr.model.transform.obj2str(o1), '{"z":"3","name":"lizhong"}' , "转换成字符串"  );
	

});


test("str2obj()", function(){

	String.prototype.replaceAll = function(s1, s2) {
		var r = new RegExp(s1.replace(/([\(\)\[\]\{\}\^\$\+\-\*\?\.\"\'\|\/\\])/g, "\\$1"), "ig");
		return this.replace(r, s2);
	};
	
	var o1,o2;
	
	o1 = uinv.FCM.configMgr.model.transform.str2obj('{"z":"3","name":"lizhong"}');
	o2 = {"z":"3","name":"lizhong"};
	deepEqual( o1, o2 , "转换成obj"  );
	

});





</script>
